function isAndroid(){return typeof Android!="undefined"?!0:urlget(window.location.href.toString(),"debugandroid","")!=""?!0:!1}function kmlurl(n){if(typeof Android!="undefined")return Android.kmlurl(n);return LUCA_BASE_URL+"/rwr?gpx=off&kml="+SITE_BASE_URL+"/KMLList?action=raw&templates=expand&ctype=application/x-zope-edit&group=link&query=%5B%5BCategory%3ACanyons%5D%5D%5B%5BLocated%20in%20region.Located%20in%20regions%3A%3AX%7C%7CSan%20Diego%5D%5D&sort=&order=ascending&more=&num=on&ext=.kml"}function WebViewStyle(){var h,r,a,v,c,i,y,l,t,u,n,f;if(isAndroid()){var e=" .noprint, .gmnoprint, .rwSort, #contentSub, #top, #mw-head-base, #mw-page-base, #mw-navigation, #footer, .popupformlink, .toc, .mw-editsection ",o=" .mw-body { margin:0px !important; padding:5px !important; } body { margin:0px !important; padding:0px !important; }",s=document.getElementsByClassName("pinmap");for(n=0,h=1;n<s.length;++n,++h)r=h.toString(),r.length<2&&(r="0"+r),a="#"+r+" "+s[n].innerHTML,s[n].innerHTML=a;for(v=document.getElementById("kmltitle"),v&&(i=viewsize(),e+=" #firstHeading ",o+=" .kmlmapdisplay { width:"+i+"px !important; height:"+i+"px !important; }"),c=document.getElementById("kmlsummary"),c&&(i=viewsize(),e+=" #firstHeading, #displaysummary, ",o+=" #mapbox { width:"+i+"px !important; height:"+i+"px !important; }"),y=$(".tableregion td big"),y.length>0&&$("#firstHeading").text($(".tableregion td big").text()),$(".tableregion").remove(),l=document.getElementById("mapmenu"),l&&(psum=$('a:contains("Printable Summary")'),pmap=$('a[href*="/Map?pagename"]'),t=[],c?t.push('<a class="button-link" href="'+kmlurl(window.location.href.toString())+'">Open KML<\/a>'):psum.length>0?($("#mapbox").remove(),t.push('<a class="button-link" href="'+psum[0].href+'">View Map<\/a>'),t.push('<a class="button-link" href="'+kmlurl(psum[0].href)+'">Open KML<\/a>')):pmap.length>0&&($("#kmlmapdisplay").remove(),elem=$('a:contains("Download KML")'),elem.length>0&&(t.push('<a class="button-link" href="'+pmap[0].href+'">View Map<\/a>'),t.push('<a class="button-link" href="'+elem[0].href+'">Open KML<\/a>'))),l.innerHTML=t.join(" ")),u=e.split(",").join(" ").split(" "),n=0;n<u.length;++n)u[n].length>0&&$(u[n]).remove();f=document.createElement("style");f.id="androidstyle";f.innerHTML=o;document.body.appendChild(f)}}function viewsize(){var n=0;return typeof Android!="undefined"&&(n=Android.isWebView()-10),n<=0&&(n=600),n}function setCookie(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toUTCString();document.cookie=n+"="+t+"; path=/ ; "+u}function getCookie(n,t){for(var i,u=n+"=",f=document.cookie.split(";"),r=0;r<f.length;r++){for(i=f[r];i.charAt(0)==" ";)i=i.substring(1);if(i.indexOf(u)!=-1)return i.substring(u.length,i.length)}return typeof t!="undefined"?t:""}function initializeCookies(){var n=window.location.href.toString();n[n.length-3]=="#"&&(setCookie("metric","on",3600),setCookie("french","on",3600),setCookie("country","on",3600),setCookie("googtrans","/en/"+n.substr(n.length-2),3600))}function loadcredits(n,t,r){function o(n){function y(n){for(var t=0;t<u.length;++t)if(u[t].user==n)return t;return-1}var s=[],h="Barranquismo.net",a=document.getElementsByClassName("barranquismonet");for(i=0;i<a.length;++i)s.push(a[i].innerHTML);var c="addcredit",l=[],v=document.getElementsByClassName(c);for(i=0;i<v.length;++i)l.push(v[i].innerHTML);$.each(n.query.pages,function(i,a){function nt(n,t){var i,u,r,f;if(n.length!=0){for(i=0;i<n.length;++i)n[i].user==c?w+=l.join(" & ").split("(").join("[").split(")").join("]"):n[i].user.indexOf("http")>0?(u=n[i].user.split("http"),w+=u[0].link("http"+u[1])):w+=n[i].user.link(SITE_BASE_URL+"/User:"+n[i].user),n[i].user==h?w+="["+s.join(", ")+"]":t>0&&(w+=" ("+Math.round(n[i].size/t*100)+"%)"),i<n.length-1&&(w+=i<n.length-2?", ":" & ");r=n[n.length-1].comment;r!=null&&r.indexOf("[[File:")>0&&(r=(f=r.indexOf(": "))>0?r.substr(f+2):"");r!=null&&r!=""&&(w+=" ("+r+")")}}var v=a.revisions,i,g,w,b,k,d,p,tt;if(v||(v=a.imageinfo),v!=null&&v.length!=null)for(i=0;i<v.length;++i)(s.length>0&&v[i].user=="BetaRobot2"&&(v[i].user=h),l.length>0&&v[i].user=="BetaRobot2"&&(v[i].user=c),s.length==0&&v[i].user.search(h)>=0)||(t=="J"&&v[i].comment&&(g=v[i].comment.split(" by "),g.length>1&&(v[i].user=g[1],v[i].comment="")),v[i].user.search("Robot")>=0)||(t=="J"&&u.splice(0,u.length),p=y(v[i].user),p<0&&(u.push({user:v[i].user,size:0}),p=u.length-1),v[i].size!=null&&(u[p].size+=v[i].size-e,e=v[i].size),v[i].comment!=null&&(u[p].comment=v[i].comment));if(typeof n["continue"]!="undefined"){$.getJSON(f+"&rvcontinue="+n["continue"].rvcontinue,o);return}if(w="",e==0)nt(u,e);else{for(b=0,p=0;p<u.length;++p)u[p].size>0&&(b+=u[p].size),u[p].size<0&&u.splice(p--,1);for(k=[],d=[],p=0;p<u.length;++p)p==0||b==0||u[p].size/b>5/100?k.push(u[p]):d.push(u[p]);nt(k,k.length>1?b:0);d.length>0&&(w+=" with minor contributions by ",nt(d,0))}w&&(tt=document.getElementById(r),tt&&(tt.innerHTML=w))})}var s=document.getElementById(r);if(s){var e=0,u=[],f=geturl(SITE_BASE_URL+"/api.php?format=json&action=query&prop=revisions&rvexcludeuser=BetaRobot&redirects=&continue=");switch(t){case"P":f+="&rvprop=user|size&titles="+n+"&rvlimit=max&rvdir=newer";break;case"K":f+="&rvprop=user|comment&titles=File:"+n+".kml&rvlimit=max&rvdir=newer";break;case"J":f=SITE_BASE_URL+"/api.php?format=json&action=query&titles=File:"+n+" Banner.jpg&prop=imageinfo&iiprop=user|comment"}$.getJSON(f,o)}}function displaydirectionsto(n){lastto=n.join();window.open("https://maps.google.com/?output=classic&saddr="+lastfrom+"&daddr="+lastto,"_blank")}function displaydirectionsfrom(n){lastfrom=n.join();lastto==""?alert("Click on a 'Directions To' link to get the full route"):window.open("https://maps.google.com/?output=classic&saddr="+lastfrom+"&daddr="+lastto,"_blank")}function displaycoordenates(n){window.prompt("Copy to clipboard with Ctrl+C, Cmd-C, Click&Hold or other methods.",n.join())}function displaydirections(n,t,i){var r="<div><i>";return r+='<a href="javascript:displaydirectionsto(['+n+","+t+']);">Directions To<\/a> - <a href="javascript:displaydirectionsfrom(['+n+","+t+']);">Directions From<\/a>',!i||(r+=i),r+"<\/i><\/div>"}function displaylocation(n,t,i){var r='<div class="textselect">',n=parseFloat(n),t=parseFloat(t),u=Math.round(n*1e5)/1e5+","+Math.round(t*1e5)/1e5;return r+='Coords: <a href="https://map.google.com/map?q=loc:'+u+'" target="_blank">'+u+"<\/a>",!i||(r+=i),r+"<\/div>"}function loadFacebook(){}function fbusersearch(){var n=prompt("Please enter your Facebook name",getCookie("fbuser"));n&&(setCookie("fbuser",n),document.body.style.cursor="wait",window.location.href=SITE_BASE_URL+"/Location?onlycuser="+n.split(" ").join("")+"%40Facebook&sortby=-Has_condition_date")}function distance(n,t){var i=Math,r=i.PI/180,u=n.lat*r,f=t.lat*r,e=u-f,o=n.lng*r-t.lng*r,s=2*i.asin(i.sqrt(i.pow(i.sin(e/2),2)+i.cos(u)*i.cos(f)*i.pow(i.sin(o/2),2)));return s*6378.137*km2mi}function ft(n,t){return isNaN(n)?"":metric?Math.round(n/m2ft).toLocaleString()+(t?"&nbsp;":"")+"m":Math.round(n).toLocaleString()+(t?"&nbsp;":"")+"ft"}function mi(n,t){return isNaN(n)?"":metric?(Math.round(n/km2mi*10)/10).toLocaleString()+(t?"&nbsp;":"")+"km":(Math.round(n*10)/10).toLocaleString()+(t?"&nbsp;":"")+"mi"}function uconv(n,t){if(n==null||n=="")return"";var r="â†•",i=n.split(r);return i.length>0&&(i[0]=t(parseFloat(i[0]),n.indexOf("&nbsp;")>0)),i.length>1&&(i[1]=ft(parseFloat(i[1]),n.indexOf("&nbsp;")>0)),i.join(" "+r)}function getGeoCode(n,t,i){var r="https://maps.googleapis.com/maps/api/geocode/json?latlng="+n.toString().trim()+","+t.toString().trim();$.getJSON(geturl(r),function(n){var r,t,u,f,e;if(n&&n.results){for(r=[],t=0;t<n.results.length;++t)for(u=0;u<n.results[t].address_components.length;++u)f=n.results[t].address_components[u],f.types.indexOf("political")>=0&&r.indexOf(f.long_name)<0&&r.push(f.long_name);e=document.getElementById(i);e&&(e.innerHTML="Geocode:"+r.join(", "))}})}function getGeoElevation(n,t,i,r){if(geoElevationService||(geoElevationService=new google.maps.ElevationService),geoElevationService&&n){var u=[];u.push(n);geoElevationService.getElevationForLocations({locations:u},function(n){if(n[0]){i||(i="");r||(r="");var f=n[0].elevation*m2ft,u=document.getElementById(t);u&&(u.innerHTML=i+'<span class="notranslate">'+ft(f)+"<\/span>"+r)}})}}function isloadingmap(){return loadingmap||loadingtiles||loadingtiles2||loadingkml||loadingquery||loadingquery2}function initializeGlobalVariables(){metric=getCookie("metric");french=getCookie("french");urlcheckbox=getCookie("urlcheckbox");weather=getCookie("weather");watershed=getCookie("watershed");starrate=getCookie("starrate");window.location.href.toString().indexOf("starratechk=")>=0&&(starrate=!0);labels=getCookie("labels");slideshowchk=getCookie("slideshowchk","undefined");slideshowchk=="undefined"&&(slideshowchk="on");slideshowchk=slideshowchk!=""}function toggleMetric(){metric=!metric;setCookie("metric",metric?"on":"",3600);document.body.style.cursor="wait";window.location.reload()}function toggleFrench(){french=!french;setCookie("french",french?"on":"",3600);document.body.style.cursor="wait";window.location.reload()}function getLinkLang(n){for(var t,u,i,r=1;r<3&&n;++r)if(n=n.previousSibling,n&&n.nodeName=="IMG"&&(i=n.src,(t=i.indexOf("Rwl_"))>0&&(u=i.indexOf(".",t))>0))return i.substr(t+4,u-t-4);return null}function addHashChangeListener(){$(window).on("hashchange",function(){toggleFS!=null&&window.location.href.toString().indexOf(FULLSCREEN_HASH)<0&&toggleFullScreen()})}function backFullScreen(){window.history.back()}function toggleFullScreen(n){var t=document.getElementById("mapbox"),u,r,i;if(t){if(toggleFS==null||n){if(toggleFS==null)for(toggleFS={parent:t.parentNode,next:t.nextSibling,cssText:t.style.cssText,className:t.className,sx:window.pageXOffset,sy:window.pageYOffset},window.location.href=window.location.href.toString()+FULLSCREEN_HASH,r=document.body.childNodes,i=0;i<r.length;++i)r[i].tagName=="DIV"&&(r[i].normal_display=r[i].style.display,r[i].style.display="none");$(t).hide();t.className="";$(t).css({position:"fixed",top:0,left:0,zIndex:9999999,width:"100%",height:"100%"});document.body.insertBefore(t,document.body.firstChild);window.scrollTo(0,0)}else{for($(t).hide(),u=toggleFS,t.style.cssText=u.cssText,t.className=u.className,u.parent.insertBefore(t,u.next),r=document.body.childNodes,i=0;i<r.length;++i)typeof r[i].normal_display!="undefined"&&(r[i].style.display=r[i].normal_display);window.scrollTo(u.sx,u.sy);toggleFS=null}chk=document.getElementById("fullscreenchk");chk.src=toggleFS==null?SITE_BASE_URL+"/images/b/b9/FullscreenIcon.png":SITE_BASE_URL+"/images/9/92/SmallscreenIcon.png";chk.onclick=toggleFS==null?toggleFullScreen:backFullScreen;mapcover();$(t).show();centermap()}}function displayinfowindow(n){tooltip.hide();lastinfowindow&&lastinfowindow.close();n.infowindow.setZIndex(++zindex);n.infowindow.open(map,n);getGeoElevation(n.getPosition(),"infoelevation","~");lastinfowindow=n.infowindow}function pinicon(n,t){return t&&typeof t!="undefined"||(t=SITE_BASE_URL+"/images/8/86/PinMap.png"),'<img src="'+t+'" id="'+n+'" class="pinicon" title="Show location on map" style="cursor:pointer;vertical-align:middle" onclick=\'pinmap(this.id)\'/>'}function pinmap(n){for(var i,t=0;t<markers.length;++t)if(markers[t].name==n){i=$("#mapbox").offset().top;i<$(window).scrollTop()&&window.scrollTo(0,i);$("#mapcover").css({display:"none"});map.panTo(markers[t].position);window.setTimeout(function(){displayinfowindow(markers[t])},500);return}}function loadlist(n,t){var gt,p,at,vt,w,o,b,s,r,a,i,k,d,g,u,h,c,tt,pt,kt,rt,v,l,dt,ut,et,ot,y,e,st,ht,ct,lt;if(qmaps.length==0)for(r=0;r<6;++r)qmaps.push(map);if(p=document.getElementById("kmlstars"),p!=null&&(gt=p.innerHTML.split(",")),at=document.getElementById("kmladdbutton"),vt=document.getElementById("kmlnearby"),vt)for(r=0;r<n.length;++r){for(w=n[r],o=[],ic=0;ic<n.length;++ic)o.push({id:n[ic].id.split(" ")[0],distance:distance(w.location,n[ic].location)});for(o.sort(function(n,t){return n.distance-t.distance}),b=[],ic=1;ic<o.length&&ic<=5&&o[ic].distance<20;++ic)b.push(o[ic].id);if(id=w.id.substr(1).split(" ")[0],id&&id!=""){for(elems=document.getElementsByClassName("nearby"),s=0;s<elems.length&&elems[s].id!=id;++s);s<elems.length&&(elems[s].innerHTML="~"+b.join())}}for(a=n.length,r=0;r<n.length;++r)if(i=n[r],i.id&&i.id!=""){if(++a,--nlist,k=5e3+nlist,i.q&&(k+=i.q*1e3),d="",i.icon&&(d=i.icon),g="",u="",i.description){if(str=i.description,metric){for(h=str.split(" "),c=0;c<h.length;++c){var nt="",f=h[c],yt=f.indexOf(":");r>=0&&(nt=f.substr(0,yt+1),f=f.substr(yt+1));f[0]>="0"&&f[0]<="9"&&(tt=f.slice(-2),tt=="mi"?h[c]=nt+uconv(f,mi):tt=="ft"&&(h[c]=nt+uconv(f,ft)))}str=h.join(" ")}str=acaconv(str);g=u=str}if(u='<div class="notranslate">'+u.split("*").join("&#9733;")+"<\/div>",pt="50px",i.thumbnail){var wt="",bt="",it=i.thumbnail.split("/");it.length>0&&(kt=it[it.length-1],rt=parseInt(kt),rt>0&&(bt='width="'+rt+'px"',wt='style="border:1px solid #808080"',pt="200px"));u+="<div><img "+wt+" "+bt+' height="150px" src="'+i.thumbnail+'"/><\/div>'}i.kmlfile&&i.kmlfile!=""&&(u+="<div><i>",u+="<a href=\"javascript:toggleRoutes('"+urlencode(i.kmlfile)+"','"+urlencode(i.id)+"');\">Show KML Map of the route<\/a>",u+="<\/i><\/div>");v='<br><span id="infoelevation"><\/span> - ';v+='<a href="'+SITE_BASE_URL+"/Weather?pagename="+i.id+'" target="_blank">Weather<\/a>';v+=' - <a href="'+SITE_BASE_URL+"/Location?locdist=30mi&locname=Coord:"+i.location.lat+","+i.location.lng+'">Search nearby<\/a>';u+=displaydirections(i.location.lat,i.location.lng,v);l='<div style="width:auto;height:auto;overflow:hidden;"><b class="notranslate">'+sitelink(i.id,nonamespace(i.id))+"<\/b>";at&&(l+='<input class="submitoff addbutton" type="submit" onclick="addbutton(\''+i.id.split("'").join("%27")+'\')" value="+">');l+="<hr/>"+u+"<\/div>";i.infocontent&&(l=i.infocontent);dt=new google.maps.InfoWindow({content:l});ut='<b class="nostranslate">'+nonamespace(i.id)+"<\/b><br>"+g.split("*").join("&#9733;");i.infodescription&&(ut=i.infodescription);et=-1;ot=map;i.q!=null&&(ot=qmaps[et=i.q]);y=new google.maps.LatLng(i.location.lat,i.location.lng);e=new google.maps.Marker({position:y,map:ot,icon:d,name:nonamespace(i.id),description:ut,infowindow:dt,zIndex:k,optimized:!1});e.q=et;e.oposition=y;google.maps.event.addListener(e,"mouseover",function(n){this.highlight=new google.maps.Marker({position:this.getPosition(),icon:SITE_BASE_URL+"/images/3/39/Starn_b.png",draggable:!1,clickable:!1,optimized:!1,zIndex:this.zIndex-1});this.priority=0;this.highlight.setMap(map);tooltip.show(this.description,n,this)});google.maps.event.addListener(e,"mouseout",function(){tooltip.hide(this);this.highlight!=null&&(this.highlight.setMap(null),this.highlight=null)});markers.push(e);google.maps.event.addListener(e,"click",function(){displayinfowindow(this)});boundslist.extend(y)}return st=document.getElementById("kmladdlist"),st&&(ht=st.innerHTML.split(";"),ht.length>0&&addhighlight(ht)),a>0&&t&&(ct=boundslist.getNorthEast(),lt=boundslist.getSouthWest(),distance({lat:ct.lat(),lng:ct.lng()},{lat:lt.lat(),lng:lt.lng()})<1?(map.setZoom(11),map.panTo(markers[0].position)):(map.fitBounds(boundslist),map.panToBounds(boundslist)),zindex=6e3),a}function getrwlist(n){var t=[];return $.each(n.query.results,function(n,i){var r,u,f;++kmllistn;u={id:i.fulltext};r=i.printouts["Has coordinates"];r&&r.length>0&&(u.location={lat:r[0].lat,lng:r[0].lon},r=i.printouts["Has star rating"],r&&r.length>0&&(u.q=Number(r[0]),r=i.printouts["Has location class"],r&&r.length>0&&(u.icon=KML_ICON_LIST[u.q+Number(r[0])*6])),kmlsummary&&u.id[0]=="#"&&(f=u.id.slice(1).split(" ")[0],u.icon="https://sites.google.com/site/rwicons/bg"+u.q+"_"+f+".png"),r=i.printouts["Has summary"],r&&r.length>0&&(u.description=r[0]),r=i.printouts["Has banner image file"],r&&r.length>0&&(u.thumbnail=r[0]),r=i.printouts["Has KML file"],r&&r.length>0&&(u.kmlfile=r[0]),r=i.printouts["Located in region"],r&&r.length>0&&(u.region=r[0].fulltext),t.push(u))}),t}function getkmllist(n){var t=getrwlist(n);typeof n["query-continue-offset"]=="undefined"&&morestop();loadlist(t,!0)}function morekmllist(n,t){var i,r,u,f;if(loadingquery=!0,console.log("loadingquery true"),++moremapc,map.setOptions({draggableCursor:"wait"}),$.getJSON(geturl(kmllisturl+"|offset="+n),getkmllist).always(function(){setTimeout(function(){loadingquery=!1;console.log("loadingquery false")},5e3);--moremapc<=0&&map.setOptions({draggableCursor:""})}),n>0&&(i=$(".loctable .loctabledata"),i.length==1&&(++morelistc,document.body.style.cursor="wait",$.get(geturl(tablelisturl+"&offset="+n),function(n){var r=$("#morekmllist").html($(n).find(".loctable").html()),t;r.length==1&&(t=r[0],t.getElementsByName=function(){return[]},t.getElementById=function(){return null},loadUserInterface(t),findtag(t.childNodes,"TR",function(n){i[0].appendChild(n)}))}).always(function(){--morelistc<=0&&(document.body.style.cursor="")}))),n+=morestep,n>=t){morestop();return}r=document.getElementById("loadmore");r&&(r.innerHTML='<button onclick="morekmllist('+n+","+t+')">+<\/button> ');u=document.getElementById("loccount");u&&(u.innerHTML=n+" of ");f=$(".loctable .smw-template-furtherresults a");f.length==1&&(f[0].href="javascript:morekmllist("+n+","+t+");")}function morestop(){var i=document.getElementById("loccount"),n,t;i&&i.parentNode.removeChild(i);n=document.getElementById("loadmore");n&&n.parentNode.removeChild(n);t=$(".loctable .smw-template-furtherresults a");t.length==1&&t[0].parentNode.removeChild(t[0])}function nonamespace(n){return n.replace("Events:","")}function initializemap(){var e,oi,c,w,r,si,ot,b,s,st,ht,hi,nt,ci,ct,n,li,ai,k,lt,d,at,u,vt,yt,f,vi,tt,pt,wt,bt,kt,l,ii,ri,ui,a,v,h,it,o,fi,rt,p,ut,ft,y,bi,et,i,ei,t,g;if(tooltip=function(){var f="tooltip",v=3,y=3,c=300,o=10,l=20,s=95,t=0,n,i,r,u,a,h=document.all?!0:!1;return{show:function(t,o,s){if(t&&t!=""){if(s&&e&&s.highlight&&e.highlight&&s.priority>e.priority){s.highlight.setMap(null);s.highlight=null;return}e&&s!=e&&e.highlight&&(e.highlight.setMap(null),e.highlight=null);e=s;n==null&&(n=document.createElement("div"),n.style.backgroundColor="white",n.style.padding="3px",n.style.position="absolute",n.style.zIndex=6e4,n.style.fontFamily="Arial,sans-serif",n.style.fontSize="10px",n.setAttribute("id",f),n.className="notranslate",i=document.createElement("div"),i.setAttribute("id",f+"top"),r=document.createElement("div"),r.setAttribute("id",f+"cont"),u=document.createElement("div"),u.setAttribute("id",f+"bot"),n.appendChild(i),n.appendChild(r),n.appendChild(u),document.body.appendChild(n),n.style.opacity=0,n.style.filter="alpha(opacity=0)",document.onmousemove=this.pos);n.style.display="block";r&&(r.innerHTML=t);n.style.width=o?o+"px":"auto";!o&&h&&(i.style.display="none",u.style.display="none",n.style.width=n.offsetWidth,i.style.display="block",u.style.display="block");n.offsetWidth>c&&(n.style.width=c+"px");a=parseInt(n.offsetHeight)+v;clearInterval(n.timer);n.timer=setInterval(function(){tooltip.fade(1)},l)}},pos:function(t){var i=h?event.clientY+document.documentElement.scrollTop:t.pageY,r=h?event.clientX+document.documentElement.scrollLeft:t.pageX;n.style.top=i-a+"px";n.style.left=r+y+"px"},fade:function(i){var r=t,u;r!=s&&i==1||r!=0&&i==-1?(u=o,s-r<o&&i==1?u=s-r:t<o&&i==-1&&(u=r),t=r+u*i,n.style.opacity=t*.01,n.style.filter="alpha(opacity="+t+")"):(clearInterval(n.timer),i==-1&&(n.style.display="none"))},hide:function(t){t&&t!=e||typeof n!="undefined"&&(n.timer&&clearInterval(n.timer),n.timer=setInterval(function(){tooltip.fade(-1)},l))}}}(),g=document.getElementById("mapbox"),g){oi={zoom:13,scaleControl:!0,keyboardShortcuts:!1,mapTypeId:google.maps.MapTypeId.TERRAIN,mapTypeControl:!0,mapTypeControlOptions:{mapTypeIds:["topo","wtopo","wtopoesri","ocm",google.maps.MapTypeId.TERRAIN,google.maps.MapTypeId.HYBRID,"wsatesri","mxtopo","estopo","frtopo","chtopo","nztopo"],style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.TOP_RIGHT},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER}};c=document.createElement("DIV");c.id="mapcover";c.className="gmnoprint";c.style.cssText="position:fixed;left:0;top:0;width:100%;height:100%;background-color:transparent;border-color:yellow;border-style: inset;border-width:2px";$(c).on("click",function(){toggleFullScreen(!0)});if(w=document.createElement("DIV"),w.style.cssText="font-size:x-small;",r=[],map=new google.maps.Map(g,oi),map.controls[google.maps.ControlPosition.BOTTOM_RIGHT].push(w),r[google.maps.MapTypeId.TERRAIN]=" ",r[google.maps.MapTypeId.HYBRID]=" ",si=new google.maps.ImageMapType({getTileUrl:function(n,t){return"http://s3-us-west-1.amazonaws.com/ctrelief/relief/"+t+"/"+slippyClip(n.x,t)+"/"+slippyClip(n.y,t)+".png"},maxZoom:16,name:"Topo",opacity:.25,tileSize:new google.maps.Size(256,256)}),map.mapTypes.set("topo",new google.maps.ImageMapType({getTileUrl:function(n,t){return"http://s3-us-west-1.amazonaws.com/caltopo/topo/"+t+"/"+slippyClip(n.x,t)+"/"+slippyClip(n.y,t)+".png"},maxZoom:16,name:"TopoUSA",opacity:1,tileSize:new google.maps.Size(256,256)})),r.topo="<a href='https://caltopo.com' target='_blank'>Topo map by CalTopo<\/a>",map.mapTypes.set("ocm",new google.maps.ImageMapType({getTileUrl:function(n,t){return"http://tile.opencyclemap.org/cycle/"+t+"/"+slippyClip(n.x,t)+"/"+slippyClip(n.y,t)+".png"},maxZoom:18,name:"OpenCycle",opacity:1,tileSize:new google.maps.Size(256,256)})),r.ocm="<a href='http://thunderforest.com' target='_blank'>Topo map by Thunderforest<\/a>",map.mapTypes.set("wtopo",new google.maps.ImageMapType({getTileUrl:function(n,t){return"http://tile.thunderforest.com/outdoors/"+t+"/"+slippyClip(n.x,t)+"/"+slippyClip(n.y,t)+".png?apikey=bdbb04f2d5df40cbb86e9e6e1acff6f7"},maxZoom:18,name:"TopoWorld",opacity:1,tileSize:new google.maps.Size(256,256)})),r.wtopo="<a href='http://thunderforest.com' target='_blank'>Topo map by Thunderforest<\/a>",map.mapTypes.set("wtopoesri",new google.maps.ImageMapType({getTileUrl:function(n,t){return"http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/"+t+"/"+slippyClip(n.y,t)+"/"+slippyClip(n.x,t)+".png"},maxZoom:18,name:"TopoESRI",opacity:1,tileSize:new google.maps.Size(256,256)})),r.wtopoesri="<a href='http://arcgisonline.com' target='_blank'>Topo map by ESRI<\/a>",map.mapTypes.set("wsatesri",new google.maps.ImageMapType({getTileUrl:function(n,t){return"http://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/"+t+"/"+slippyClip(n.y,t)+"/"+slippyClip(n.x,t)+".png"},maxZoom:18,name:"SatESRI",opacity:1,tileSize:new google.maps.Size(256,256)})),r.wsatesri="<a href='http://arcgisonline.com' target='_blank'>Sat map by ESRI<\/a>",map.mapTypes.set("estopo",new google.maps.ImageMapType({getTileUrl:function(n,t){return"http://www.ign.es/wmts/mapa-raster?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=MTN&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX="+t+"&TILEROW="+slippyClip(n.y,t)+"&TILECOL="+slippyClip(n.x,t)+"&FORMAT=image%2Fjpeg"},maxZoom:17,name:"TopoSpain",opacity:1,tileSize:new google.maps.Size(256,256)})),r.estopo="<a href='http://sigpac.mapa.es/fega/visor/' target='_blank'>Topo map by IGN<\/a>",map.mapTypes.set("frtopo",new google.maps.ImageMapType({getTileUrl:function(n,t){return"http://RopeWiki:b%40VM709c6Jix@wxs.ign.fr/8m34uuspdybhi9t89lpoeyfl/geoportail/wmts?SERVICE=WMTS&VERSION=1.0.0&REQUEST=GetTile&LAYER=GEOGRAPHICALGRIDSYSTEMS.MAPS&STYLE=normal&FORMAT=image/jpeg&TILEMATRIXSET=PM&TILEMATRIX="+t+"&TILEROW="+slippyClip(n.y,t)+"&TILECOL="+slippyClip(n.x,t)},maxZoom:16,name:"TopoFrance",opacity:1,tileSize:new google.maps.Size(256,256)})),r.frtopo="<a href='http://www.geoportail.gouv.fr' target='_blank'>Topo map by Geoportail<\/a>",map.mapTypes.set("mxtopo",new google.maps.ImageMapType({getTileUrl:function(n,t){return"http://gaiamapas1.inegi.org.mx/mdmCache/service/wms?LAYERS=MapaBaseTopograficov61_consombreado&FORMAT=image/jpeg&MINZOOMLEVEL=5&ZOOMOFFSET=5&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG:900913&BBOX="+WmsBox(latLngBox(slippyClip(n.x,t),slippyClip(n.y,t),t,256),!0,!1)+"&WIDTH=256&HEIGHT=256"},maxZoom:16,name:"TopoMexico",opacity:1,tileSize:new google.maps.Size(256,256)})),r.mxtopo="<a href='http://gaia.inegi.org.mx/mdm6/' target='_blank'>Topo map by INEGI<\/a>",map.mapTypes.set("nztopo",new google.maps.ImageMapType({getTileUrl:function(n,t){return t<13?"http://tiles-2.topomap.co.nz/tiles-topo250/"+t+"-"+slippyClip(n.x,t)+"-"+TYZ(slippyClip(n.y,t),t)+".png":"http://tiles-2.topomap.co.nz/tiles-topo50/"+t+"-"+slippyClip(n.x,t)+"-"+TYZ(slippyClip(n.y,t),t)+".png"},maxZoom:15,name:"TopoNewZealand",opacity:1,tileSize:new google.maps.Size(256,256)})),r.nztopo="<a href='http://www.topomap.co.nz/' target='_blank'>Topo map by Topomap.co.nz<\/a>",map.mapTypes.set("chtopo",new google.maps.ImageMapType({getTileUrl:function(n,t){return"http://wmts20.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/current/3857/"+t+"/"+n.x+"/"+n.y+".jpeg"},maxZoom:18,name:"TopoSwiss",opacity:1,tileSize:new google.maps.Size(256,256)})),r.chtopo="<a href='http://map.geo.admin.ch' target='_blank'>Topo map by Swisstopo<\/a>",google.maps.event.addListener(map,"maptypeid_changed",function(){map.controls[google.maps.ControlPosition.BOTTOM_CENTER].clear();map.getMapTypeId()=="topo"?map.overlayMapTypes.setAt(0,si):map.overlayMapTypes.clear();var n=r[map.getMapTypeId()];!n||!w||(w.innerHTML=n)}),google.maps.event.addListener(map,"mouseout",function(){mapcover()}),ot=document.getElementById("kmltype"),ot!=null&&(b=ot.innerHTML.split("@"),b.length>1&&(map.mapTypes[b[0]].maxZoom=parseInt(b[1])),map.setMapTypeId(b[0])),loadingtiles=!0,console.log("loadingtiles true"),google.maps.event.addListener(map,"tilesloaded",function(){setTimeout(function(){loadingtiles=!1;console.log("loadingtiles false")},5e3)}),google.maps.event.addListener(map,"bounds_changed",function(){loadingtiles2=!0;console.log("loadingtiles2 true")}),google.maps.event.addListener(map,"idle",function(){setTimeout(function(){loadingtiles2=!1;console.log("loadingtiles2 false")},5e3)}),boundslist=new google.maps.LatLngBounds,st=document.getElementById("kmlmarker"),st!=null&&(console.log("kmlmarker"),n=st.innerHTML.split(","),n!=null&&n.length>1&&(s="kmlmarker",setmarker(n[0],n[1],0),map.setZoom(13),ht=new google.maps.LatLng(n[0],n[1]),map.panTo(ht),hi=document.getElementById("elevationdiv"),hi&&getGeoElevation(ht,"elevationdiv"," ~"))),nt=document.getElementById("kmlrect"),nt!=null&&(n=nt.innerHTML.split(","),n!=null&&n.length>1&&(s="kmlrect",ci=new google.maps.Rectangle({strokeColor:"#FF0000",strokeOpacity:.5,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.05,map:map,bounds:new google.maps.LatLngBounds(new google.maps.LatLng(n[0],n[1]),new google.maps.LatLng(n[2],n[3])),draggable:!1,clickable:!1,optimized:!1}),boundslist=ci.getBounds(),map.fitBounds(boundslist),map.panToBounds(boundslist),n.length>4&&setTimeout(function(){map.setZoom(parseInt(n[4]))},1e3))),ct=document.getElementById("kmlcircle"),ct!=null&&(n=ct.innerHTML.split(","),n!=null&&n.length>1&&(s="kmlcircle",li={strokeColor:"#FF0000",strokeOpacity:.5,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.05,map:map,center:new google.maps.LatLng(n[0],n[1]),radius:Number(n[2]),draggable:!1,clickable:!1,optimized:!1},setmarker(n[0],n[1],9e4),nt==null&&(ai=new google.maps.Circle(li),boundslist=ai.getBounds()),map.fitBounds(boundslist),map.panToBounds(boundslist))),kmlsummary=document.getElementById("kmlsummary"),k=document.getElementById("kmllist"),k!=null){for(lt=document.getElementById("kmlicons"),lt!=null&&(KML_ICON_LIST=lt.innerHTML.split(",")),s="kmllist",d=k.innerHTML.split("&amp;").join("").split(";"),at=[],o=0;o<d.length;++o)d[o]!=null&&(d[o].length<=0||(u=d[o].split(","),u!=null)&&((vt=parseFloat(u[1]),yt=parseFloat(u[2]),isNaN(vt)||isNaN(yt))||(f={id:urldecode(u[0]),location:{lat:vt,lng:yt}},u.length>3&&(f.q=Number(u[3]),u.length>6&&(f.icon=KML_ICON_LIST[Number(u[6])*6+f.q])),kmlsummary&&f.id[0]=="#"&&(vi=f.id.slice(1).split(" ")[0],f.icon="https://sites.google.com/site/rwicons/bg"+f.q+"_"+vi+".png"),u.length>4&&(f.description=urldecode(u[4])),u.length>5&&(f.thumbnail=u[5]),at.push(f))));loadlist(at,!0)}if(tt=document.getElementById("kmllistquery"),tt!=null&&(s="kmllistquery",k=tt,kmllisturl=SITE_BASE_URL+"/api.php?action=ask&format=json&query="+tt.innerHTML+"|%3FHas_coordinates|%3FHas_star_rating|%3FHas_summary|%3FHas_banner_image_file|%3FHas_location_class|%3FHas_KML_file|limit=100",tablelisturl=window.location.href.toString(),tablelisturl=tablelisturl.split("#")[0],tablelisturl+=(tablelisturl.indexOf("?")<0?"?":"&")+"nomapchk=on",pt=document.getElementById("loctotal"),pt&&(wt=pt.innerHTML,wt>0,morekmllist(0,wt))),kt=document.getElementById("kmlfile"),kt==null||bt||(t=kt.innerHTML,t!=null&&t.length>0&&(s="kmlfile",bt=new google.maps.KmlLayer(t),bt.setMap(map))),kmlsummary!=null){function gi(n){function g(n){var t=c.fromLatLngToPoint(n);return new google.maps.Point(Math.floor((t.x-s.x)*h),Math.floor((t.y-s.y)*h))}function nt(n){var t=new google.maps.Point;return t.x=n.x/h+s.x,t.y=n.y/h+s.y,c.fromPointToLatLng(t)}var b,s,f,l,r,t,i,p,e;loadingquery2=!0;console.log("loadingquery2 true");var u=1,w=13,o=16;n==null&&(n=100);var h=Math.pow(2,map.getZoom()),c=map.getProjection(),y=map.getBounds();if(!c||!y){console.log("null proj");return}for(b=new google.maps.LatLng(y.getNorthEast().lat(),y.getSouthWest().lng()),s=c.fromLatLngToPoint(b),t=0;t<markers.length;t++)i=markers[t],i.p=g(i.oposition),i.p.y+=w;for(f=!0,l=0;l<n&&f;++l)for(f=!1,t=0;t<markers.length;t++)for(r=t+1;r<markers.length;r++)if(t!=r){var a=markers[t].p.x-markers[r].p.x,v=markers[t].p.y-markers[r].p.y,k=a<0?-a:a,d=v<0?-v:v;k<o&&d<o&&(k<o&&(a>0?(markers[t].p.x+=u,markers[r].p.x-=u,f=!0):(markers[t].p.x-=u,markers[r].p.x+=u,f=!0)),d<o&&(v>0?(markers[t].p.y+=u,markers[r].p.y-=u,f=!0):(markers[t].p.y-=u,markers[r].p.y+=u,f=!0)))}for(console.log("repetitions:"+l+" overlap:"+f+" os:"+o+" st:"+u),t=0;t<markers.length;t++)i=markers[t],i.p.y-=w,p=nt(i.p),e={lat:parseFloat(p.lat()),lng:parseFloat(p.lng())},isNaN(e.lat)||isNaN(e.lng)?console.log("error "+i.name+":"+i.p+" -> "+e.lat+","+e.lng):i.setPosition(e);setTimeout(function(){loadingquery2=!1;console.log("loadingquery2 false")},5e3)}google.maps.event.addListener(map,"zoom_changed",gi)}if(s==null){var yi=new google.maps.LatLng(0,0),nr=new google.maps.InfoWindow({content:"UNKNOWN LOCATION"}),dt=new google.maps.Marker({position:yi,map:map,infowindow:nr,optimized:!1});dt.infowindow.open(map,dt);google.maps.event.addListener(dt,"click",function(){this.infowindow.open(map,this)});map.panTo(yi);map.setZoom(2);map.setMapTypeId(google.maps.MapTypeId.TERRAIN)}l=document.getElementById("kmltitle");l!=null&&(i=document.createElement("DIV"),i.style.margin="4px 4px 4px 4px",i.innerHTML='<img src="https://chart.apis.google.com/chart?chst=d_text_outline&chld=000000|32|h|FFFFFF|b|'+urlencode(l.innerHTML)+'"/>',map.controls[google.maps.ControlPosition.TOP_CENTER].push(i));var gt='<div class="gmnoprint maptopcontrols">',ni="<\/div>",ti=gt+'<img class="gmnoprint" id="fullscreenchk" onclick="toggleFullScreen()" title="Full Screen" src="'+SITE_BASE_URL+'/images/b/b9/FullscreenIcon.png">'+ni;if(k?(ti+=gt+'<label><input class="gmnoprint" id="routeschk" type="checkbox" onclick="toggleRoutes()">Show&nbsp;KML&nbsp;<\/label>'+ni,document.getElementById("locsearch")&&(ii=document.createElement("DIV"),ii.innerHTML='<div id="searchmap"><span id="searchinfo"><\/span><button type="search" value="" onclick="searchmap()">Search Map<\/button><\/div>',map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(ii),searchmaprectangle=new google.maps.Rectangle({strokeColor:"#FF0000",strokeOpacity:.5,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.05,bounds:new google.maps.LatLngBounds(new google.maps.LatLng(0,0),new google.maps.LatLng(0,0)),draggable:!1,clickable:!1,optimized:!1}),map.addListener("click",function(n){var i,t;searchmapn>=0&&(i=new google.maps.Marker({position:n.latLng,map:map,optimized:!1}),searchmappt.push(n.latLng),++searchmapn,t=new google.maps.LatLngBounds,t.extend(searchmappt[0]),t.extend(searchmappt[searchmappt.length>=2?1:0]),searchmaprectangle.setBounds(t),searchmaprectangle.setMap(map),searchmapn>=2&&searchmaprun())}),map.addListener("mousemove",function(n){if(searchmapn>0&&searchmapn<2){var t=new google.maps.LatLngBounds;t.extend(searchmappt[0]);t.extend(n.latLng);searchmaprectangle.setBounds(t);searchmaprectangle.setMap(map)}}))):l&&(ti+=gt+'<label><input class="gmnoprint" id="labelschk" type="checkbox" onclick="toggleLabels()" '+(labels?"checked":"")+">TrkLabels&nbsp;<\/label>"+ni),i=document.createElement("DIV"),i.style.cssText="z-index:9999;",i.innerHTML=ti,map.controls[google.maps.ControlPosition.TOP_LEFT].push(i),map.controls[google.maps.ControlPosition.LEFT_BOTTOM].push(c),ri=document.getElementById("kmlfilep"),ri!=null&&(loadingkml=!0,console.log("loadingkml true"),t=ri.innerHTML,ui="",t!=null&&t.length>0)){s="kmlfilep";var g="#mapbox",pi="mapsidebar",wi=document.getElementById("bskmlfile");if(wi!=null){for(a=document.createElement("DIV"),v='<div class = "dropDownOptionsDiv" id="myddOptsDiv">',t=t.split("&amp;").join("&"),h=wi.innerHTML.toString().split("&amp;").join("&").split(","),urldecode(t).indexOf(urldecode(h[0]))<0&&h.unshift(t),it=[],o=0;o<h.length;++o){for(fi="",y=h[o],noextraction(y)&&(fi="color:red;"),rt=0,p=getdomain(y),it.push(p),ut=0;ut<it.length;++ut)it[ut]==p&&++rt;rt>1&&(p+="#"+rt);v+='<div class="dropDownItemDiv" onClick="loadSource(\''+y+"','"+p+'\')" style="'+fi+'">'+p+"<\/div>"}ft=document.getElementsByTagName("BIG");ft&&ft.length>0&&h.length>1&&(y=urlencode(ft[0].innerHTML),v+='<div class="dropDownItemDiv" onClick="loadSource(\''+y+"','ALL COMBINED')\" style=\"font-weight:bold\">ALL COMBINED<\/div>");v+="<\/div>";bi=getdomain(h[0]);v+="<div class=\"dropDownControl\" onclick=\"(document.getElementById('myddOptsDiv').style.display == 'block') ? document.getElementById('myddOptsDiv').style.display = 'none' : document.getElementById('myddOptsDiv').style.display = 'block';\"><span id=\"myddOptsText\">"+bi+'<\/span><img class="dropDownArrow" src="https://maps.gstatic.com/mapfiles/arrow-down.png"/><\/div>';lastlinks.push(ui=h[0]);a.className="dropDownControlDiv";a.style.zIndex=1e3;a.innerHTML=v;map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(a);h.length<2&&(a.style.display="none")}et=document.createElement("div");et.setAttribute("id",pi);et.className="notranslate";document.body.appendChild(et);i=document.createElement("DIV");i.innerHTML='<div id="legendbar"><label><input class="gmnoprint" id="legendchk" type="checkbox" onclick="toggleLegend()"><span id="legendlabel">Legend<\/span><\/label><br><div id="legend" class="notranslate"><\/div><\/div><div id="loadlinks"><\/div>';map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(i);i.style.maxHeight="90%";i.style.overflow="auto";i.style.zIndex=999;i.style.marginRight="5px";function ki(){gxml=new GeoXml("gxml",map,"",{sidebarid:pi,sortbyname:!0,simplelegend:!0,suppressallfolders:!0,showArrows:!0,showLabels:!0,showRouteLabels:labels&&l,showElevation:labels&&l,directions:!0,dohilite:!0,allfoldersopen:!0,hilite:{color:"#aaffff",opacity:.8,width:10,textcolor:"#000000"}});google.maps.event.addListener(gxml,"loaded",function(){if(setTimeout(function(){loadingkml=!1;console.log("loadingkml false")},5e3),document.getElementById("hidelegend")==null||showLegend)var n=setInterval(function(){if(document.getElementById("legend")!=null){toggleLegend(!0);var t=$("#legendbar").width(),i=$("#legendbar").height(),r=$("#mapbox").width(),u=$("#mapbox").height();t*i>r*u/4&&toggleLegend(!1);clearInterval(n)}},500)});gxml.load(t,ui)}typeof staticscripts=="undefined"?$.getScript(typeof geoxmljs!="undefined"?geoxmljs:geturl(SITE_BASE_URL+"/index.php?title=MediaWiki:Geoxml.js&action=raw&ctype=text/javascript"),ki):setTimeout(ki,100)}if(ei=document.getElementById("kmlfilew"),ei!=null&&(t=ei.innerHTML,t!=null&&t.length>0)){s="kmlfilew";g="#mapbox";function di(){gxml=new GeoXml("gxml",map,"",{nozoom:!0,simplelegend:!0,suppressallfolders:!0,showArrows:!1,showLabels:!1,patchIcons:!0,showRouteLabels:!1,directions:!1,dohilite:!1,hilite:{color:"#aaffff",opacity:.8,width:10,textcolor:"#000000"}});gxml.load(t,t)}typeof staticscripts=="undefined"?$.getScript(typeof geoxmljs!="undefined"?geoxmljs:geturl(SITE_BASE_URL+"/index.php?title=MediaWiki:Geoxml.js&action=raw&ctype=text/javascript"),di):setTimeout(di,100)}setTimeout(function(){loadingmap=!1;console.log("loadingmap false")},5e3);$("#mapbox").mouseover(function(){handlekeys=!0});$("#mapbox").mouseout(function(){handlekeys=!1;mapcover()});$("#mapbox").mousedown(function(n){n.preventDefault()});$(document).keydown(function(n){if(handlekeys){var i=1,t=128;switch(n.which){case 37:return map.panBy(-t,0),!1;case 38:return map.panBy(0,-t),!1;case 39:return map.panBy(t,0),!1;case 40:return map.panBy(0,t),!1;case 109:case 189:return map.setZoom(i=map.getZoom()-1),!1;case 107:case 187:return map.setZoom(i=map.getZoom()+1),!1;case 27:case 8:return toggleFS!=null&&backFullScreen(),!1}}});$(window).resize(function(){toggleFS!=null?toggleFullScreen(!0):centermap();smallstyle();mapcover()})}}function waterflowinit(){waterflow()}function loadMapInterface(){var i=document.getElementById("mapbox"),n,t;if(i==null){loadingmap=!1;$(".locateicon").hide();console.log("loadingmap none");return}(typeof staticscripts=="undefined"?(n=document.createElement("script"),n.type="text/javascript",n.src="https://www.google.com/jsapi",document.body.appendChild(n),n=document.createElement("script"),n.type="text/javascript",n.src="https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyDdkcexZV-p5Nj8RwgLYTcegm5jorJpbyw&callback=initializemap",document.body.appendChild(n)):initializemap(),pictureinit(),t=document.getElementById("waterflow-table"),t)&&(typeof staticscripts=="undefined"?$.getScript(typeof waterflowjs!="undefined"?waterflowjs:geturl(SITE_BASE_URL+"/index.php?title=MediaWiki:Waterflow.js&action=raw&ctype=text/javascript"),waterflowinit):setTimeout(waterflowinit,100))}function loadmapScript(){smallstyle();loadSkin();loadEditor();loadFacebook();loadMapInterface();loadUserInterface(document);loadFormInterface();loadTranslation();var t=setInterval(function(){loadTranslation()},2e3),n=document.createElement("script");n.type="text/javascript";n.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit";document.body.appendChild(n)}function loadSource(n,t){var y=document.getElementById("myddOptsDiv"),p=document.getElementById("myddOptsText"),s,h,a,v,r,o,u,e,f,i;if(p&&y){y.style.display="none";p.innerHTML=t;gxml.overlayman.Hide();s=n.indexOf(SITE_HOSTNAME)>=0;h=n;s||(h=LUCA_BASE_URL+"/rwr?gpx=off&filename=tmp&kmlnfx&kmlx="+h);a=document.getElementById("kmlfilep");a&&(a.innerHTML=h);lastlinks.indexOf(n)>=0?gxml.overlayman.Show(n):(gxml.load(h,n),lastlinks.push(n));var w=noextraction(n),b=["rw","ex","noex"],g=[s,!s&&!w,!s&&w];for(r=0;r<b.length;++r)for(o=document.getElementsByClassName("display"+b[r]),u=0;u<o.length;++u)o[u].style.display=g[r]?"block":"none";for(v=["ex","noex"],r=0;r<v.length;++r)for(o=document.getElementsByClassName("display"+v[r]),u=0;u<o.length;u++)for(e=o[u].getElementsByTagName("A"),f=0;f<e.length;++f)if(i=e[f].href,i.indexOf("caltopo.com")>0){var c="kmlx%253D",k="ext%253D.kml",l=i.indexOf(c),d=i.indexOf(k,l+1);e[f].href=i.substr(0,l+c.length)+urlencode(n+"&")+i.substr(d)}else if(i.indexOf(LUCA_HOSTNAME)>0){var c="kmlx%3D",k="ext%3D.kml",l=i.indexOf(c),d=i.indexOf(k,l+1);e[f].href=i.substr(0,l+c.length)+n+"&"+i.substr(d)}else i.indexOf("/Map?pagename=")<0&&(e[f].href=n,e[f].innerHTML=t)}}function searchmap(){map.setOptions({draggableCursor:"crosshair"});var n=document.getElementById("searchinfo");n&&(n.innerHTML='<span class="rwwarningbox"><b>CLICK ON MAP TO DEFINE SEARCH AREA<\/b><\/span>');searchmapn=0}function searchmaprun(){map.setOptions({draggableCursor:""});searchmapn=-1;searchmappt=[];var n=document.getElementById("searchinfo");n&&(n.innerHTML='<span class="rwwarningbox"><b>SEARCHING...<\/b><\/span>');mapsearchbounds(searchmaprectangle.bounds,-1)}function mapsearchbounds(n,t){var f=document.getElementById("locsearchchk"),i,r,u;map!=null&&f!=null&&(i=n.getSouthWest(),r=n.getNorthEast(),f.checked=!0,u="Coord:"+Math.round(i.lat()*1e3)/1e3+","+Math.round(i.lng()*1e3)/1e3+","+Math.round(r.lat()*1e3)/1e3+","+Math.round(r.lng()*1e3)/1e3,t>=0&&(u+=","+t),document.getElementById("locnameval").value=u);filtersearch()}function mapsearch(){mapsearchbounds(map.getBounds(),map.getZoom())}function toggleLegend(n){var t=document.getElementById("legend"),u=document.getElementById("legendlabel"),i=document.getElementById("mapsidebar"),r;showLegend==null||n?(t&&i&&(t.style.display="block",t.innerHTML=t.innerHTML+i.innerHTML,i.innerHTML=""),u&&showLegend==null&&(showLegend=u.innerHTML)):(t&&(t.style.display="none"),showLegend=null);r=document.getElementById("legendchk");r&&(r.checked=showLegend!=null)}function toggleRoutes(n,t){var i,r,u;if(idchk="routeschk",i=document.getElementById("kmlroutes"),i){if(r="KML",u=i.innerHTML.split("&amp;").join("&"),!gxml||n){function f(){gxml=new GeoXml("gxml",map,"",{nozoom:!0,simplelegend:!0,suppressallfolders:!0,showArrows:!1,showLabels:!1,patchIcons:!0,showRouteLabels:!1,directions:!0,dohilite:!0,hilite:{color:"#aaffff",opacity:.8,width:10,textcolor:"#000000"}});var r=n?n:u,i=t?t:i;gxml.load(r,i,i)}if(typeof staticscripts=="undefined"?$.getScript(typeof geoxmljs!="undefined"?geoxmljs:geturl(SITE_BASE_URL+"/index.php?title=MediaWiki:Geoxml.js&action=raw&ctype=text/javascript"),f):setTimeout(f,100),n)return;showRoutes="on";loadedRoutes="on"}else showRoutes==null?(showRoutes="on",loadedRoutes==null?(gxml.load(u,r,r),loadedRoutes="on"):gxml.overlayman.Show()):(showRoutes=null,gxml.overlayman.Hide());document.getElementById(idchk).checked=showRoutes!=null;google.maps.event.trigger(map,"resize")}}function addhighlight(n){for(var i,f,u,r,t=0;t<markers.length;++t)if(n.indexOf(markers[t].name)>=0){if(i=markers[t],i.highlight)continue;f=16;u=new google.maps.Marker({position:i.getPosition(),icon:SITE_BASE_URL+"/images/e/e6/Starn_y.png",draggable:!1,clickable:!1,optimized:!1,zIndex:i.zIndex-1});u.setMap(qmaps[i.q]);i.highlight=u;i.infowindow&&i.infowindow.content&&(i.infowindow.content=i.infowindow.content.replace('value="+"','value="*"'))}for(r=document.getElementsByClassName("pinicon"),t=0;t<r.length;++t)n.indexOf(r[t].id)>=0&&(r[t].style.backgroundImage="url("+SITE_BASE_URL+"/images/e/e6/Starn_y.png)")}function addbutton(n){function r(t){for(var t,i,f=t.childNodes,u=0;u<f.length;++u){if(t=f[u],t.attributes)for(i=0;i<t.attributes.length;++i)t.attributes[i].value.indexOf(oldid)>=0&&(t.attributes[i].value=t.attributes[i].value.split(oldid).join(n));r(t)}}var t=document.getElementById("kmladdbutton"),i,u;t&&(r(t),i=t.getElementsByTagName("BUTTON"),i.length>0&&i[0].click(),lastinfowindow&&lastinfowindow.close(),u=[n],addhighlight(u),oldid=n)}function setmarker(n,t,i){var r=new google.maps.LatLng(n,t),u=new google.maps.InfoWindow({content:'<div class="textselect">'+displaylocation(n,t)+'<div id="elevation"><\/div><div id="geocode" style="max-width:200px"><\/div>'+displaydirections(n,t)+"<\/div>"}),f=new google.maps.Marker({position:r,map:map,infowindow:u,optimized:!1,zIndex:i});google.maps.event.addListener(f,"click",function(){this.infowindow.open(map,this);getGeoElevation(this.getPosition(),"elevation","Elevation: ");getGeoCode(n,t,"geocode")});boundslist.extend(r)}function centermap(){if(map){var n=map.getCenter();google.maps.event.trigger(map,"resize");map.panTo(n)}}function mapcover(){var n=$("#mapbox").width(),t=$(window).width()-n;!toggleFS&&(t<50||n<500)?$("#mapcover").css({display:"block"}):$("#mapcover").css({display:"none"})}function smallstyle(){WebViewStyle();$("#p-logo a").attr("href","#")}function rap(n,t){return isNaN(n)?"":n+(t?"&nbsp;":"")+"r"}function acaconv(n,t){var r=n.indexOf(")"),i,u,f;if(r<0)return n;for(i=n.indexOf("*")+1;i<r&&!(n.charAt(i)>="1"&&n.charAt(i)<="4");)++i;return(i>=3&&n.substr(i-3,3)=="<i>"&&(i-=3),u=n.substr(i,r-i).split("("),u.length<2)?n:(f=u[french?1:0].trim(),t&&(f+=" ("+u[french?0:1].trim()+")"),n.substr(0,i)+f+n.substr(r+1))}function getTextFromHyperlink(n){var t=n.search("href=");return n.slice(t).split('"')[1]}function slippyClip(n,t){return n%(1<<t)}function TYZ(n,t){return(1<<t)-n-1}function latLngBox(n,t,i,r){function u(n,t,i){return Math.min(Math.max(n,t),i)}function f(n,t,i,r){var f=n*(1<<t),e=u(n*i,0,f-1)/f-.5,o=.5-u(n*r,0,f-1)/f;return{lat:90-360*Math.atan(Math.exp(-o*2*Math.PI))/Math.PI,lng:360*e}}var e=f(r,i,n,t),o=f(r,i,n+1,t+1);return{lat1:e.lat,lat2:o.lat,lng1:e.lng,lng2:o.lng}}function WmsBox(n,t,i){function e(n,t,i){var r={x:t,y:i},u;return n&&(r.x=i*20037508.34/180,u=Math.log(Math.tan((90+t)*Math.PI/360))/(Math.PI/180),r.y=u*20037508.34/180),r}var r=e(t,n.lat1,n.lng1),u=e(t,n.lat2,n.lng2),f=[r.x<u.x?r.x:u.x,r.y<u.y?r.y:u.y,r.x<u.x?u.x:r.x,r.y<u.y?u.y:r.y];return i?f[1]+","+f[0]+","+f[3]+","+f[2]:f[0]+","+f[1]+","+f[2]+","+f[3]}function noextraction(n){return n.indexOf("roadtripryan.com")>=0}function checkregname(){var t=window.location.href.toString().split("?"),r=urldecode(getCookie("regnameval")),i,n;t.length<2&&r!=""&&(i=t[0].split("/"),n=i[i.length-1],(n=="Beta"||n=="Conditions"||n=="conditions.html")&&(window.location.href=t+"?region="+urlencode(r)))}function pdfselect(n){var i="",r="",s=15,e=LUCA_BASE_URL+"/rwr?",c=document.getElementById("idcredits"),t,f,u,o,h,l;c&&(t=c.innerHTML,t&&t!="")&&(t=urldecode(t).split(" ").join("_"),f="",u=n.value,u=="P"?(r=t+".pdf",i=e+"filename="+r+"&pdfx="+t+"&ext=.rw",f="summary=off"):u=="PM"?(r=t+"_MAP.pdf",i=e+"filename="+r+"&pdfx=Map?pagename="+t+"&ext=.rw",f="summary=off"):u=="KM"?(r=t+".kml",i=$("#kmlfilep").html(),s=1):u=="GM"?(r=t+".gpx",i=$("#kmlfilep").html().split("gpx%3Doff").join("gpx%3Don"),s=1):u=="ZPM"?(r=t+".zip",i=e+"filename="+r+"&zipx="+t+"&ext=.rw",f="bslinks=off&trlinks=off&summary=off"):u=="ZALL"?(r=t+"+.zip",i=e+"filename="+r+"&zipx="+t+"&ext=.rw",f="bslinks=on&summary=off"):u=="S"&&(i=SITE_BASE_URL+"/PDFDownload?pagename="+t+"&ext=.rw"),i=rwlink(i,f),i!="")&&(n.value="",n.blur(),o=!0,h=0,setCookie("rwfilename",""),l=setInterval(function(){o=!o;h++;$("#ptext").css("opacity",o?"1.0":"0.5");(getCookie("rwfilename","")!=""||h>s)&&(clearInterval(l),$("#ptext").css("display","none"))},1e3),$("#ptext").css("display","inline"),window.location.href=i)}function pictureget(n){if(n.length!=0){var t=geturl(n.shift());console.log("getpic "+t);$.getJSON(t,function(n){for(var t,f,e,c,o,u,i,s=[],h=n.list,r=0;r<h.length;++r){for(t=h[r].split(","),f=document.createElement("LI"),f.className="gallerybox",e='<div class="thumbinner" style="width:154px"><a href="'+t[0]+'" target="_blank"><img src="'+t[4]+'" style="width:150px;height:150px;"><\/a><div class="thumbcaption"><div>'+pinicon(t[0],piciconlist[t[9]])+" <b>"+t[6]+"<\/b><\/div><div>"+t[8]+"<\/div><div>"+t[1]+"<\/div><\/div><\/div>",f.innerHTML=e,f.sortdate=t[5],f.locid=t[0],u=piclist.getElementsByTagName("LI"),i=0,i=0;i<u.length&&u[i].sortdate>=f.sortdate;++i);i==u.length?piclist.appendChild(f):piclist.insertBefore(f,u[i]);c={lat:parseFloat(t[2].toString()),lng:parseFloat(t[3].toString())};s.push({id:t[0],location:c,zindex:100-r,icon:piciconlist[t[9]],thumbnail:t[4],description:"",infodescription:t[6]+" "+t[8],infocontent:e})}for(map!=null&&loadlist(s),o=[],u=piclist.getElementsByTagName("LI"),i=250;i<u.length;++i)o.push(u[i].locid),piclist.removeChild(u[i]);for(r=0;r<markers.length;++r)o.indexOf(markers[r].name)>=0&&markers[r].setMap(null)}).error(function(){++picloadingerr;console.log("picerror "+t)}).always(function(){var t="";n.length>0&&(t+=picloadingmsg+Math.round((picloadingn-n.length)*100/picloadingn)+"%");picloadingerr>0&&(t+=' <span style="color:red">'+picloadingerr+" ERRORS!<\/span>");picloading.innerHTML=t;pictureget(n)})}}function pictureinit(){var n;if(piclist=document.getElementById("picture-list"),n=document.getElementById("picture-rect"),n&&piclist){picloading=document.createElement("DIV");picloading.innerHTML=picloadingmsg;piclist.parentNode.insertBefore(picloading,piclist);piciconlist["Instagram.com"]=SITE_BASE_URL+"/images/c/c0/InstaIcon.png";piciconlist["Facebook.com"]=SITE_BASE_URL+"/images/0/03/FacebIcon.png";piciconlist["Flickr.com"]=SITE_BASE_URL+"/images/f/f7/FlickIcon.png";piciconlist["Panoramio.com"]=SITE_BASE_URL+"/images/a/a4/PanorIcon.png";var i=window.location.href.toString().indexOf("debug=local")>=0,r=i?"http://localhost/rwr?pictures=":LUCA_BASE_URL+"/rwr?pictures=",u=r+n.innerHTML;$.getJSON(geturl(u),function(n){var i=n.list;for(picloadingerr=0,picloadingn=i.length,t=0;t<3;++t)setTimeout(function(){pictureget(i)},t*500);pictureget(i)}).error(function(){picloading.innerHTML='<div style="color:red">ERROR!<\/div>'})}}function suggestregion(){var t=document.getElementsByName("Canyon[Coordinates]"),n;return t.length>0&&t[0].value?suggestregioncoords(t[0].value):(n=document.getElementsByName("Canyon[Geolocation]"),n.length>0&&n[0].value?suggestregiongeocode(n[0].value):void 0)}function suggestregiongeocode(n){var t="https://maps.googleapis.com/maps/api/geocode/json?address="+n;$.getJSON(geturl(t),function(n){if(n&&n.results)for(var t=0;t<n.results.length;++t)if(n.results[t].geometry&&n.results[t].geometry.location&&n.results[t].geometry.location.lat&&n.results[t].geometry.location.lng){suggestregioncoords(n.results[t].geometry.location.lat+","+n.results[t].geometry.location.lng);return}})}function suggestregioncoords(n){n=n.split(" ").join("");var t=SITE_BASE_URL+"/api.php?action=ask&format=json&query=[[Category:Canyons]][[Has coordinates::"+n+" (50000)]]|%3FHas_coordinates|%3FLocated_in_region|limit=1000";$.getJSON(geturl(t),function(t){for(var u,e,f,r=getrwlist(t),o=n.split(","),s={lat:parseFloat(o[0]),lng:parseFloat(o[1])},i=0;i<r.length;++i)r[i].dist=distance(s,r[i].location);for(r.sort(function(n,t){return n.dist-t.dist}),u=[],i=1;i<r.length&&u.length<3;++i)u.indexOf(r[i].region)<0&&u.push(r[i].region);e=document.getElementById("suggestednearby");e&&(e.innerHTML="Nearby:"+u.join(", "));f=document.getElementsByName("Canyon[Region]");f&&f.length>0&&u.length>0&&(f[0].value=u[0])})}function regsearch(){var t=document.getElementById("regnameval"),u,n;if(t.value==""||!deftext(t.value)){var i=window.location.href,i=i.split("#")[0].split("?")[0],r=t.value;for(r.length>0&&(i+="?region="+urlencode(r)),setCookie("regnameval",urlencode(r)),u=document.getElementsByClassName("submitoff"),n=0;n<u.length;n++)u[n].disabled=!0;document.body.style.cursor="wait";window.location.href=i}}function filtersearch(n){var e=window.location.href,l,a,f,w,b,u,r,v,c,o,s,y,p,t;typeof n!="undefined"&&(e=n);var e=e.split("#")[0].split("?")[0],i="",h=document.getElementsByClassName("optionschk");if(h!=null)for(t=0;t<h.length;t++)h[t].checked&&(i=addparam(i,h[t].id,"on"));if(l=document.getElementById("filterschk"),l!=null&&l.checked){for(u=document.getElementsByClassName("filtersel"),t=0;t<u.length;t++)if(u[t].style.display!="none")for(a=u[t].id+"flt",f=u[t].getElementsByClassName(a),r=0;r<f.length;++r)w=f[r].selectedIndex,b=f[r].options,i=addparam(i,u[t].id,b[w].text);for(u=document.getElementsByClassName("filterchk"),t=0;t<u.length;t++){var a=u[t].id+"flt",f=document.getElementsByClassName(a),k=[];for(r=0;r<f.length;r++)f[r].checked&&k.push(f[r].id.substring(f[r].id.lastIndexOf("_")+1));i=addparam(i,u[t].id,k.join())}}if(v=document.getElementById("locsearchchk"),typeof n=="undefined"&&v!=null&&v.checked&&(c=document.getElementById("locnameval").value,deftext(c)||(o=document.getElementById("locdistval").value,deftext(o)&&c.substr(0,6)!="Coord:"&&(o="50mi"),e=SITE_BASE_URL+"/Location",i=addparam(i,"locname",urlencode(c)),deftext(o)||(i=addparam(i,"locdist",urlencode(o))))),s=document.getElementsByClassName("optionsurl"),s!=null)for(t=0;t<s.length;t++)y=s[t].innerHTML,y.length>0&&(i=addparam(i,s[t].id,y));if(sortby&&(i=addparam(i,"sortby",sortby)),i!=""&&(e+="?jform"+i),typeof n!="undefined")return e;for(p=document.getElementsByClassName("submitoff"),t=0;t<p.length;t++)p[t].disabled=!0;document.body.style.cursor="wait";window.location.href=e}function locsearch(){var n=document.getElementById("locnameval");n!=null&&deftext(n.value)||filtersearch()}function sitelink(n,t,i){var r,u;return(typeof i=="undefined"&&(i=n,r=findsite(n),r&&(u=n.split(":")[1],i=r.urls[0].replace("%id",u))),i=="")?'<span style="color:#808080">'+t+"<\/span>":aref(i,t,t,'target="_blank"')}function findsite(n){for(var t=0;t<sites.length;t++)if(sites[t].id==n)return sites[t];return null}function loadSkin(){for(var u,t,n,r,f,o,s=document.getElementsByClassName("toption"),i=0;i<s.length;++i)s[i].style.display="block";if(u=urldecode(getCookie("skinconfig")),t=document.getElementById("skinconfig"),t!=null&&(u=urldecode(t.innerHTML),setCookie("skinconfig",urlencode(u))),u!="")for(n=u.split(","),skinuser=n[0],(t=document.getElementById("skinuser"))!=null&&t.innerHTML==""&&skinuser!=""&&(n=window.location.href,n+=n.indexOf("?")>=0?"&":"?",document.body.style.display="none",window.location.href=n+"skinuser="+skinuser),n.length>1&&n[1]!=""&&((t=document.body)!=null&&(t.style.backgroundColor=n[1]),(t=document.getElementById("mw-page-base"))!=null&&(t.style.backgroundColor=n[1],t.style.backgroundImage="none")),n.length>2&&n[2]!=""&&(r=n[2].split("|"),(t=document.getElementById("p-logo"))!=null&&(t.innerHTML='<a href="'+r[0]+'"><img src="'+r[1]+'"/><\/a>')),f=3;f<n.length;++f){var e="",r=n[f].split("*"),h=r[0].split("|");for(i=1;i<r.length;++i)o=r[i].split("|"),e+='<li id="n-'+i+'"><a href="'+o[0]+'">'+o[1]+"<\/a><\/li>";(t=document.getElementById(h[0]))!=null&&(t.innerHTML=e!=""?"<h3>"+h[1]+'<\/h3><div class="body"><ul>'+e+"<\/ul><\/div>":"")}}function getStar(n,t){var i='<img width="'+t+'px" height="'+t+'px" src="';return i+STARLIST[4]+'"/>'}function getStarFraction(n){return n>=.875?4:n>=.625?3:n>=.375?2:n>=.125?1:0}function getStars(n,t,i){for(var r='<span style="white-space: nowrap;">',u=0;u<5;++u)r+='<img width="'+i+'px" height="'+i+'px" src="'+STARLIST[getStarFraction(n)]+'"/>',n-=1;return t>0&&(r+='<span class="starsub">'+t+"<\/span>"),r+"<\/span>"}function getStarsVote(n,t,i){var u='<span class="starRate" style="white-space: nowrap;">',f=["Delete","Not worth doing","Worthwhile","Ok","Great","Among the best"],r;if(!document.getElementById("curuser"))for(r=0;r<=5;++r)f[r]="Log in to rate";for(r=1;r<=5;++r)u+='<b id="'+r+'" class="starRate'+getStarFraction(n)+'" style="cursor:pointer" onclick="starVote(this)"><span class="starText starvText">'+f[r]+"<\/span><\/b>",n-=1;return t>0?u+='<b id="0" class="starx starsub" style="color:red;cursor:pointer;" onclick="starVote(this)">X<span class="starText starvText">'+f[0]+"<\/span><\/b>":i>0&&(u+='<span class="starsub">'+i+"<\/span>"),u+"<\/span>"}function getStarsId(n){for(var t=n.parentNode,i;t!=null&&t.nodeName!="TR";)t=t.parentNode;return t==null?null:(i=t.getElementsByTagName("A"),i&&i[0])?i[0].innerHTML:null}function starVote(n){var i=n.id,r=getStarsId(n),e=document.getElementById("curuser"),t;if(i&&r&&e){var u=e.innerHTML,f=document.createElement("IFRAME"),o="Votes:"+r+"/"+u;for(i=="0"&&(i="",u=""),f.src=SITE_BASE_URL+"/api.php?action=sfautoedit&form=Page_rating&target="+o+"&query=Page_rating[Page]="+r+"%26Page_rating[Rating]="+i+"%26Page_rating[User]="+u,f.style.display="none",document.body.appendChild(f),t=n.parentNode;t!=null&&t.className.indexOf("starv")<0;)t=t.parentNode;t&&(t.innerHTML=getStarsVote(i,i,-1,16),t.className="starv votedrow")}}function loadStars(){for(var h,f,u,e,i,r,o,s=window.location.href.toString(),c=starrate||s.indexOf("onlyuser=")>0||s.indexOf("starratechk=")>0,t=document.getElementsByClassName("starv"),n=0;n<t.length;n++)(h=typeof t[n].starsvstr=="undefined"?t[n].starsvstr=t[n].innerHTML:t[n].starsvstr,f=h.split("*"),f.length<2)||(u=parseFloat(f[0]),e=getStarsId(t[n]),e!=null?(i=-1,r=-1,r=parseFloat(f[1]),o=f[1].split("#"),o.length>1&&(i=parseInt(o[1])),c&&r>0&&(u=r,i=0),starrate?(t[n].innerHTML=getStarsVote(u,r,i,16),r>0&&(t[n].className="starv votedrow")):(t[n].innerHTML='<a href="'+SITE_BASE_URL+"/List_ratings?location="+e+'">'+getStars(u,i,16)+"<\/a>",t[n].title=u+"*"+(i<=0?"":" ("+i+" ratings)"),r>0&&(t[n].className="starv votedsub"))):t[n].innerHTML=getStars(u,0,16))}function textTranslation(n,t,i){if(!glist)return n;t||(t="");i||(i="");for(var r=0;r<glist.length;++r)n=n.replace(genlist[r],t+glist[r]+i);return n}function loadTranslation(){var r,f,c,e,l,i,a,n,t,u,o;if(gtrans=getCookie("googtrans").split("/"),gtrans=gtrans.length>=3?gtrans[2]:null,gtrans!=gtrans2){for(gtrans2=gtrans,r=["en,Introduction,Approach,Descent,Exit,Red tape,Background,Credits,Beta sites,Trip reports and media,Time,Raps,Shuttle,Start,End,Road,Parking,(Upper),(Middle),(Lower)","es,Descripciï¿½n,Aproximaciï¿½n,Descenso,Retorno,Regulaciones,Historia,Crï¿½ditos,Referencias,Informes del recorrido y fotos,Horario,Rï¿½peles,Combinaciï¿½n,Inicio,Final,Carretera,Parking,(Superior),(Intermedio),(Inferior)","pt,Descriï¿½ï¿½o,Aproximaï¿½ï¿½o,Descida,Retorno,Regulamentos,Histï¿½ria,Crï¿½ditos,Referï¿½ncias,Relatï¿½rios de viagens e fotos,Tempos,Rapeis,Combinaï¿½ï¿½o,Entrada,Saï¿½da,Estrada,Parking,(Superior),(Intermediï¿½rio),(Inferior)","it,Descrizione,Avvicinamento,Discesa,Rientro,Normativa,Storia,Crediti,Siti web,Report di viaggio e foto,Tempi,Calate,Navetta,Entrata,Uscita,Strada,Parking,(Superiore),(Intermedio),(Inferiore)","fr,Description,Approche,Descente,Retour,Rï¿½glements,Historique,Crï¿½dits,Sites internet,Rapports de voyage et photos,Temps,Rappels,Navette,Depart,Arrivee,Route,Parking,(Supï¿½rieur),(Intermï¿½diaire),(Infï¿½rieur)","de,Einleitung,Zustieg,Zejscie,Rï¿½ckweg,Vorschriften,Hintergrund,Credits,Weblinks,Reiseberichte und fotos,Zeit,Abseilen,Schiffchen,Einleitung,Ausstieg,Strasse,Parking,(Hï¿½her),(Intermediï¿½r),(Untere)","ca,Descripciï¿½,Aproximaciï¿½,Descens,Retorn,Regulacions,Histï¿½ria,Crï¿½dits,Referï¿½ncies,Informes del recorregut i fotos,Horari,Rï¿½pels,Combinaciï¿½,Inici,Final,Carretera,Parking,(Superior),(Intermedi),(Inferior)"],glist=null,genlist=(r[0].substr(3)+r[0].substr(2).toLowerCase()).split(","),f=0;f<r.length;++f)if(r[f].substr(0,2)==gtrans){glist=(r[f].substr(3)+r[f].substr(2).toLowerCase()).split(",");break}for(c=document.getElementsByClassName("ctranslate"),i=0;i<c.length;i++)e=c[i],u=e.innerHTML,e.oinnerHTML?u=e.oinnerHTML:e.oinnerHTML=u,e.innerHTML=textTranslation(u,'<span class="notranslate"> '," <\/span>");for(l=document.getElementsByClassName("external"),i=0;i<l.length;i++)if((a="ext=.rw",n=l[i],n.href)&&(t=n.href,!(t.indexOf("translate.google.com")<0)||!(t.indexOf(a)<0))){if(u=n.innerHTML,n.ohref?(t=n.ohref,u=n.oinnerHTML):(n.ohref=t,n.oinnerHTML=u),t.indexOf(a)>=0){n.href=t=rwlink(t,"");continue}if(o=t.indexOf("&u=http"),!(o<0)){var v=t.substr(o+3),h="en",s="auto",o=t.indexOf("&sl=");o>=0&&(s=t.substr(o+4,2),s=="au"&&(s="auto"));gtrans&&(h=gtrans);s!=h?(n.style.display="inline",n.href="https://translate.google.com/translate?&hl="+h+"&sl="+s+"&tl="+h+"&u="+v):n.style.display="none"}}}}function rwlink(n,t){for(var u,i="ext=.rw",r=urlcheckbox,e=t.split("&"),f=0;f<e.length;++f)(u=e[f].split("="),u.length==2)&&(r=setparam(r,u[0],u[1]));return metric&&(n=n.replace(i,"metric=on&"+i)),french&&(n=n.replace(i,"french=on&"+i)),gtrans&&(n=n.replace(i,"gtrans="+gtrans+"&"+i)),r&&(n=n.replace("&"+i,r+"&"+i)),r.indexOf("smallscreen=on")<0&&(n=n.replace(i,"docwidth="+$(window).width()+"&"+i)),n}function googleTranslateElementInit(){var t=document.getElementById("firstHeading"),n;t&&(n=document.createElement("div"),n.className="noprint",n.style.cssText="float:right",n.id="google_translate_flags",n.innerHTML='<table class="noprint"><tr><td><img src="'+SITE_BASE_URL+'/images/c/c9/FlagIcon.png"/><\/td><td id="google_translate_element"><\/td><\/tr><\/table>',t.insertBefore(n,t.firstChild),new google.translate.TranslateElement({pageLanguage:"en",multilanguagePage:!0,gaTrack:!0,gaId:"UA-78683801-1"},"google_translate_element"))}function getDomainFaviconURL(n){var t=n.match(/(\w+):\/\/([^/:]+)(:\d*)?([^# ]*)/);return t=RegExp.$2,"https://www.google.com/s2/favicons?domain="+t}function openfavlinks(){var u="",f=document.getElementsByClassName("favlinks"),t,n,r;for(i=0;i<f.length;++i)t=f[i].getElementsByTagName("A")[0].href,u+='<hr><h2>From <a href="'+t+'">'+t+'<\/a>:<\/h2><iframe src="'+t+'" frameborder="0" width="100%" min-height="3000px" style="font-size:smaller;"><\/iframe>';n=document.getElementById("allfavlinks");n||(n=document.createElement("DIV"),n.id="allfavlinks",r=document.getElementById("content"),r==null&&(r=document.body),r.appendChild(n));n&&(n.innerHTML=u)}function adjustFaviconElements(){for(var n,r=document.getElementsByClassName("favicon"),t=0;t<r.length;t++){var u=r[t].getElementsByTagName("A"),i=u[0],f=i.href,e=getDomainFaviconURL(f),o='<img width="32px" height="32px" style="vertical-align:middle;margin-left:0px;margin-top:0px;width:32px;height:32px" src="'+e+'"/>';i.innerHTML=o+'<span style="vertical-align: middle;"> '+i.innerHTML+"<\/span>"}n=document.getElementById("favlinks");n&&(n.innerHTML='<a href="javascript:openfavlinks();">'+n.innerHTML+"<\/a>");n=document.getElementById("allfavlinks");n&&openfavlinks()}function addUACAStyle(){var n=document.createElement("style");n.id="french";n.innerHTML=french?" .uaca0 { display: none ; }":" .uaca1 { display: none ; }";document.body&&document.body.appendChild(n)}function toggleFilterSel(n,t){var o=n.selectedIndex,r=n.options,i,f,e,u;for(t==null&&(t=r[o].text),n.value=t,i=0;i<r.length;++i)if(r[i].text!="")for(f=r[i].text,e=document.getElementsByClassName(n.id+f),u=0;u<e.length;u++)e[u].style.display=f==t?"":"none";return setCookie(n.id,t),t}function toggleFilter(n,t){return t==null&&(t=document.getElementById(n).checked),document.getElementById(n).checked=t,t?setCookie(n,"on"):setCookie(n,""),t}function toggleOption(n,t){var i;for(checked=toggleFilter(n,t),elems=document.getElementsByClassName(n.split("chk").join("on")),i=0;i<elems.length;i++)elems[i].style.display=checked?"":"none";for(elems=document.getElementsByClassName(n.split("chk").join("off")),i=0;i<elems.length;i++)elems[i].style.display=checked?"none":"";return checked}function togglelocsearchchk(n){toggleOption(n)}function togglefilterschk(n){toggleOption(n)||filtersearch()}function toggledisplayschk(n){if(!toggleOption(n)){elems=document.getElementsByClassName(n.split("chk").join("on"));for(var t=0;t<elems.length;t++)toggleFilter(elems[t].id+"chk",!1);filtersearch()}}function togglenomapchk(){filtersearch()}function togglefulltablechk(){filtersearch()}function toggleUrlcheckbox(n){urlcheckbox=setparam(urlcheckbox,n.id,n.checked?"on":"off");setCookie("urlcheckbox",urlcheckbox,3600);gtrans2="x";loadTranslation()}function togglewchk(n){var t=!eval(n);setCookie(n,t?"on":"",3600);document.body.style.cursor="wait";window.location.reload()}function toggleStarrate(){starrate=!starrate;setCookie("starrate",starrate?"on":"",3600);starrate?loadStars():(document.body.style.cursor="wait",window.location.reload())}function toggleLabels(){labels=!labels;setCookie("labels",labels?"on":"",3600);document.body.style.cursor="wait";window.location.reload()}function toggleSlideshow(n){var i,t;for(slideshowchk=!slideshowchk,typeof n!="undefined"&&(slideshowchk=n),setCookie("slideshowchk",slideshowchk?"on":"",3600),i=document.getElementsByClassName("slideshow"),t=0;t<i.length;t++)i[t].style.display=slideshowchk?"":"none";for(i=document.getElementsByClassName("slideshowschk"),t=0;t<i.length;t++)i[t].checked=slideshowchk;slideshowchk?(document.body.style.zIndex=0,document.body.style.zoom=1):(document.body.style.zIndex=1,document.body.style.zoom=1.0000001)}function loadUserInterface(n){var ni,ti,g,et,it,rt,ii,ri,ui,nt,fi,e,ot,st,ht,v,o,i,ei,lt,ut,p,at,r,tr,tt,oi,si,hi,vt,u,c,ci,yt,pt,li,y,ai,s,vi,rr,ct,pi,wi,h,wt,bi,l,sr,bt,f,b,ki,kt,dt,di,gt,a,t;for($("title").addClass("notranslate"),$(".firstHeading span").addClass("notranslate"),$("#searchform").addClass("notranslate"),$(".suggestions").addClass("notranslate"),$(".mw-headline").addClass("ctranslate"),$(".toctext").addClass("ctranslate"),ni=n.getElementsByClassName("colgroup"),t=0;t<ni.length;++t)ti=ni[t],g=ti.id.split("."),findtag(ti.childNodes,"TR",function(n){for(var t,i,r=0,f=n.childNodes,u=0;u<f.length&&r<g.length;++u)t=f[u],t.nodeName=="TD"&&(i=g[r],i.length>0&&t.getElementsByClassName(i).length==0&&(t.className+=" "+i),++r)});for(et=n.getElementsByName("_section[Background]"),t=0;t<et.length;t++)u=et[t].innerHTML,u.trim().split(" ").join()=="==Background=="&&(et[t].innerHTML="");for(it=n.getElementsByClassName("jslink"),t=0;t<it.length;t++)it[t].innerHTML='<a href="javascript:'+it[t].id+'();">'+it[t].innerHTML+"<\/a>";for(rt=n.getElementsByClassName("tablinks"),t=0;t<rt.length;t++)for(e=rt[t].getElementsByTagName("A"),i=0;i<e.length;i++)f=e[i],f.target="tabIframe2";for(ii=n.getElementsByClassName("tabMain"),rt.length>0&&ii.length>0&&(ri=rt[0].getElementsByTagName("A"),ri.length>0&&(ii[0].innerHTML='<div class="tabIframeWrapper"><iframe class="tabContent" name="tabIframe2" src="'+ri[0].href+'" marginheight="8" marginwidth="8" frameborder="0"><\/iframe><\/div>')),ui=n.getElementsByClassName("nofollow"),t=0;t<ui.length;t++)for(e=ui[t].getElementsByTagName("A"),i=0;i<e.length;i++)f=e[i],f.rel="nofollow";for(nt=n.getElementsByClassName("popwin"),t=0;t<nt.length;t++)for(e=nt[t].getElementsByTagName("A"),i=0;i<e.length;i++)f=e[i],a=f.href,f.href=popupwin(a);for(nt=n.getElementsByClassName("pops"),t=0;t<nt.length;t++)for(e=nt[t].getElementsByTagName("A"),i=0;i<e.length;i++)f=e[i],f.target="_blank";for(fi=n.getElementsByClassName("popforms"),t=0;t<fi.length;t++)for(e=fi[t].getElementsByTagName("A"),ot=0;ot<e.length;++ot)st=e[ot].attributes.href,st&&(s=st.value,s=s.replace("Special:FormEdit/File","Special:Upload"),st.value=s);for(v=$("ul.setfield"),t=0;t<v.length;t++){for(o=v[t].innerHTML.split("<li>"),i=1;i<o.length;++i)ht=o[i].split("<"),ct=ht[0].trim(),ht[0]='<span onclick="setfield(this)" style="cursor:pointer;" >'+ct+"<\/span>",o[i]=ht.join("<");v[t].innerHTML=o.join("<li>")}for(v=$("ul.regioncount"),t=0;t<v.length;t++){for(o=v[t].innerHTML.split("<li>"),i=1;i<o.length;++i)ei=o[i].indexOf("<",o[i].indexOf("<\/a")+1),u=o[i].substring(0,ei).trim().replace("(i)",'<hr id="vri">'),u='<span class="regioncount">'+u+"<\/span>",o[i]=u+o[i].substring(ei);v[t].innerHTML=o.join("<li>")}for(lt=n.getElementsByClassName("readmore"),t=0;t<lt.length;t++)u=lt[t].innerHTML,lt[t].innerHTML='<a href="#overviewstart" class="readmorebutton">'+u+"<\/a>";for(loadStars(),ut=n.getElementsByClassName("monthv"),t=0;t<ut.length;t++)if(s=ut[t].innerHTML,s.length!=0){for(p='<table class="wikitable bst mbst nostranslate"><tr>',at=0;at<s.length;++at)switch(s.charAt(at)){case",":p+='<td class="bss"><\/td>';break;case"X":p+='<td class="bsg"><\/td>';break;case"x":p+='<td class="bsy"><\/td>';break;case".":p+="<td><\/td>"}p+="<\/tr><\/table>";ut[t].innerHTML=p;ut[t].style.display="block"}if(metric){for(r=n.getElementsByClassName("uft"),t=0;t<r.length;t++)r[t].innerHTML=uconv(r[t].innerHTML,ft);for(r=n.getElementsByClassName("umi"),t=0;t<r.length;t++)r[t].innerHTML=uconv(r[t].innerHTML,mi);for(r=n.getElementsByClassName("urap"),t=0;t<r.length;t++)r[t].innerHTML=uconv(r[t].innerHTML,rap)}for(r=n.getElementsByClassName("uaca"),t=0;t<r.length;t++)r[t].innerHTML=acaconv(r[t].innerHTML);for(r=n.getElementsByClassName("uacamore"),t=0;t<r.length;t++)r[t].innerHTML=acaconv(r[t].innerHTML,!0);for(elem=n.getElementsByClassName("urlcheckbox"),t=0;t<elem.length;t++)tr=getparam(urlcheckbox,elem[t].id,elem[t].innerHTML),elem[t].className+=" notranslate",elem[t].innerHTML='<input id="'+elem[t].id+'" class="gmnoprint" type="checkbox" onclick="toggleUrlcheckbox(this)" '+(tr=="on"?"checked":"")+">";for(elem=n.getElementsByClassName("uchk"),t=0;t<elem.length;t++)elem[t].className+=" notranslate",elem[t].innerHTML='<label><input class="gmnoprint" type="checkbox" onclick="toggleMetric()" '+(metric?"checked":"")+">Metric<\/label>";for(elem=n.getElementsByClassName("fchk"),t=0;t<elem.length;t++)elem[t].className+=" notranslate",tt=elem[t].innerHTML,elem[t].innerHTML='<label><input class="gmnoprint" type="checkbox" onclick="toggleFrench()" '+(french?"checked":"")+">"+tt+"<\/label>";for(elem=n.getElementsByClassName("wchk"),t=0;t<elem.length;t++)h=elem[t].id,tt=elem[t].innerHTML,elem[t].innerHTML='<label><input class="gmnoprint" type="checkbox" onclick="togglewchk(\''+h+"')\" "+(eval(h)?"checked":"")+">"+tt+"<\/label>";for(elem=n.getElementsByClassName("schk"),t=0;t<elem.length;t++)elem[t].className+=" notranslate",tt=elem[t].innerHTML,elem[t].innerHTML='<label><input class="gmnoprint" type="checkbox" onclick="toggleStarrate()" '+(starrate?"checked":"")+">"+tt+"<\/label>";for(elem=n.getElementsByClassName("schkon"),t=0;t<elem.length;t++)elem[t].style.display=starrate?"table-row":"none";for(elem=n.getElementsByClassName("external"),t=0;t<elem.length;t++)f=elem[t],oi=getLinkLang(f),oi&&(si="en",hi=f.href,hi.replace("&","%26"),c=n.createElement("SPAN"),c.innerHTML=' <a rel="nofollow" class="external text" style="display:none" href="http://translate.google.com/translate?&hl='+si+"&sl="+oi+"&tl="+si+"&u="+hi+'">[Translated]<\/a>',f.parentNode.insertBefore(c,f.nextSibling));vt=n.getElementById("fbuser");vt&&(vt.innerHTML='<input class="submitoff" type="submit" onclick="fbusersearch()" value="'+vt.innerHTML+'">');var ir=n.getElementById("firstHeading"),cr=n.getElementById("idcredits"),lr=n.getElementById("kmlmapdisplay"),ar=window.location.href.toString().indexOf("&action=")>0;if(ir&&cr&&lr&&!ar&&(u=' <select class="notranslate" style="width:27px;height:32px;background-image:url('+SITE_BASE_URL+'/images/a/ad/DownIcon.png);" id="pdfselect" value="" onchange="pdfselect(this)">',u+='<option selected disabled hidden style="display: none" value=""><\/option>',u+='<option value="P">PDF: Page<\/option>',u+='<option value="PM">PDF: Map<\/option><option value="KM">KML: Map<\/option><option value="GM">GPX: Map<\/option>',u+='<option value="ZPM">ZIP: Page + Maps<\/option><option value="ZALL">ZIP: P + M + Links<\/option>',u+='<option value="S">*: Settings<\/option><\/select>',u+='<img id="ptext" height="32" style="display:none;vertical-align:top" src="'+SITE_BASE_URL+'/extensions/SemanticForms/skins/loading.gif"/>',c=n.createElement("SPAN"),c.className="gmnoprint",c.title="Download",c.id="pdfbutton",c.innerHTML=u,ir.appendChild(c)),ci=n.getElementById("idcredits"),ci&&(yt=ci.innerHTML,loadcredits(yt,"K","Kcredits"),loadcredits(yt,"P","Pcredits"),loadcredits(yt,"J","Jcredits")),pt=n.getElementById("referencepic"),pt&&(li=n.getElementById("Approach"),li)){for(y=li.parentNode;y!=null&&y.nodeName!="H2";)y=y.parentNode;y!=null&&(y.parentNode.insertBefore(pt,y),pt.style.display="block")}if(elem=n.getElementsByClassName("titleuser"),elem.length>0){for(ai="",t=0;t<elem.length;t++)s=elem[t].innerHTML.split(","),vi='<img src="'+s[0]+'"/>',ai+=s.length>1?'<a href="'+s[1]+'" title="Visit the main page">'+vi+"<\/a>":vi;elem=n.getElementById("firstHeading");elem&&(rr=elem.innerHTML,elem.innerHTML='<div style="float:right;clear:right">'+ai+"<\/div>"+rr)}var yi=1,w=255,ur=128,wr=setInterval(function(){var r,u,f,i,e,t;for(w+=yi,w>255&&(w=255,yi=-ur),w<239&&(w=239,yi=ur),r=n.getElementsByClassName("rwwarning"),u="#"+((w<<16)+(w<<8)).toString(16),t=0;t<r.length;++t)for(r[t].style.backgroundColor=u,f=r[t].childNodes,i=0;i<f.length;++i)f[i].style&&(f[i].style.backgroundColor=u);for(e=n.getElementsByClassName("rwwarningbox"),t=0;t<e.length;++t)e[t].style&&(e[t].style.backgroundColor=u)},1e3),fr=n.getElementById("userrealnames");if(fr){var er=[],or=[],g=fr.innerHTML.split('title="User:');for(t=1;t<g.length;++t)h=g[t].split('"')[0].split(" (page")[0],ct=g[t].split("<")[0].split(">")[1],er.push(h),or.push(ct);for(elem=n.getElementsByClassName("userid"),t=0;t<elem.length;t++)h=elem[t].innerHTML,pi=er.indexOf(h),pi>=0&&(elem[t].innerHTML=or[pi],elem[t].style.display="block")}for(wi=n.getElementById("autorefresh"),wi!=null&&(h=wi.innerHTML,wt=n.createElement("IFRAME"),wt.src=SITE_BASE_URL+"/api.php?action=sfautoedit&form=AutoRefresh&target=Votes:AutoRefresh&query=AutoRefresh[Location]="+h,wt.style.display="none",n.body.appendChild(wt)),bi=n.getElementById("kmlicons"),bi!=null&&(KML_ICON_LIST=bi.innerHTML.split(",")),l=n.getElementsByClassName("pinmap"),t=0;t<l.length;t++)l[t].id&&(bt=l[t].id.split("."),bt.length>1&&(sr=KML_ICON_LIST[Number(bt[1])*6+Number(bt[0])])),f=l[t].parentNode.getElementsByTagName("A")[0],l[t].id=h=f.innerHTML,l[t].innerHTML=pinicon(l[t].id,sr)+l[t].innerHTML;if(b="",ki=n.getElementById("kmlmarker"),ki&&(b=ki.innerHTML.toString().split(" ").join("")),kt=typeof staticscripts!="undefined",dt=n.getElementById("weatherdiv"),b.length>0&&dt&&weather&&(a="http://api.wunderground.com/api/bc1f237fb64ef165/alerts/forecast10day/geolookup/q/"+b+".json",kt&&(a="http://localhost/rw/umpqua.json"),$.getJSON(geturl(a),function(n){var f,c,u,t,i,e,s,o,l,h,a,v,y,p,r;if(n&&n.forecast&&n.forecast.simpleforecast&&n.forecast.simpleforecast.forecastday&&n.forecast.simpleforecast.forecastday.length>0){if(c=dt.getElementsByTagName("A"),c&&c.length>0&&c[0].href&&(f=c[0].href),u=n.forecast.simpleforecast.forecastday,t="",t+='<div class="wstlogo noprint">',f&&(t+='<a href="'+f+'">'),t+='<span class="notranslate">',n.location&&n.location.nearby_weather_stations&&n.location.nearby_weather_stations.pws&&n.location.nearby_weather_stations.pws.station&&n.location.nearby_weather_stations.pws.station.length>0&&(i=n.location.nearby_weather_stations.pws.station[0],i.name="((&#9899;)) "+i.id),n.location&&n.location.nearby_weather_stations&&n.location.nearby_weather_stations.airport&&n.location.nearby_weather_stations.airport.station&&n.location.nearby_weather_stations.airport.station.length>0&&(e=n.location.nearby_weather_stations.airport.station[0],e.name="&#9992;"+e.city),s=b.split(","),s.length>=2&&(o=1e15,l=1e15,i&&(o=o({lat:s[0],lng:s[1]},{lat:i.lat,lng:i.lon})),e&&(l=o({lat:s[0],lng:s[1]},{lat:e.lat,lng:e.lon}))<o&&(i=e,o=l),t+="~"+mi(o)+" ",map&&i)){h=[];i.neighborhood&&h.push(i.neighborhood);i.city&&h.push(i.city);i.state?h.push(i.state):i.country&&h.push(i.country);var w=new google.maps.LatLng(i.lat,i.lon),k=new google.maps.InfoWindow({content:"<b>"+i.name+'<\/b><div class="textselect">'+h.join(", ")+'<\/div><div class="textselect">'+displaylocation(i.lat,i.lon)+'<div id="elevation"><\/div><\/div>'}),d=new google.maps.Marker({position:w,map:map,infowindow:k,optimized:!1,zIndex:10,icon:{url:"https://icons.wxug.com/logos/PNG/wundergroundLogo_4c.png",scaledSize:new google.maps.Size(45,32)}});google.maps.event.addListener(d,"click",function(){this.infowindow.open(map,this);getGeoElevation(this.getPosition(),"elevation","Elevation: ")})}for(i&&(t+=" "+i.name),a=u.length-1,t+=": "+u[0].date.day+" "+u[0].date.monthname_short+" - "+u[a].date.day+" "+u[a].date.monthname_short+" ",t+="<\/span>",t+='<div style="position:relative"><img style="position:absolute;left:-75px;width:75px" src="https://icons.wxug.com/logos/PNG/wundergroundLogo_4c.png"/><\/div>',f&&(t+="<\/a>"),t+="<\/div>",t+='<table class="wikitable wst bst notranslate"><tr style="line-height:5px">',r=0;r<u.length;++r)t+="<th>"+u[r].date.weekday_short+"<br>",t+="<\/th>";for(t+="<\/tr><tr>",r=0;r<u.length;++r)v=metric?u[r].high.celsius:u[r].high.fahrenheit,y=metric?u[r].low.celsius:u[r].low.fahrenheit,t+='<td title="'+u[r].date.day+" "+u[r].date.monthname+" : "+u[r].conditions+", Max "+v+" Min "+y+'">',t+='<div><img class="weatherimg" src="'+u[r].icon_url+'"/><\/div>',t+='<div class="weatherh">'+v+'<\/div><div class="weatherl">'+y+"<\/div>",t+="<\/td>";if(t+="<\/tr>",n.alerts&&n.alerts.length>0){for(t+='<tr><td colspan="'+u.length+'" style="padding:0;">',p=[],r=0;r<n.alerts.length;++r)p.push(n.alerts[r].description+"!");f&&(t+='<a href="'+f+'">');t+='<div class="weatheralt rwwarningbox">'+p.join("<br>")+"<\/div>";f&&(t+="<\/a>");t+="<\/td><\/tr>"}t+="<\/table>";dt.innerHTML="<div>"+t+"<\/div>"}})),di=n.getElementById("kmltype"),gt=n.getElementById("waterflowdiv"),b.length>0&&gt&&di&&(di.innerHTML=="topo"||kt)){function vr(n,t){var i=n.indexOf(t),r;return i<0?"":(i=n.indexOf(":",i),i<0)?"":(r=n.indexOf(" ",i),n.substring(i+1,r))}a=LUCA_BASE_URL+"/rwr?waterflow=winfo="+b;kt&&(a=LUCA_BASE_URL+"/rwr?waterflow=winfo=33.7717,-111.1197");$.getJSON(geturl(a),function(n){var t="",r,i;n&&n.list&&n.list.length>0&&(r=n.list[0],i=parseInt(vr(r,"Drain")),isNaN(i)||(t=metric?Math.round(i)+"km<sup>2<\/sup>":Math.round(i*.386)+"mi<sup>2<\/sup>",t='<span class="notranslate">~'+t+"<\/span>",i>100?t+='<hr id="cd5" title="May massively flood with heavy rains and keep flooded for many days afterwards">':i>50?t+='<hr id="cd4" title="May massively flood with heavy rains">':i>25&&(t+='<hr id="cd3" title="May flood with heavy rains">')));gt.className="";gt.innerHTML+=" "+t})}var k,d,gi=null,hr=0,yr=0,nr=n.getElementsByClassName("galleryboxview");for(n.onmousemove=function(){k&&d&&hr>0&&(k.style.display="none",d.src="");++hr;yr=-3},t=0;t<nr.length;t++)nr[t].onmouseout=function(){gi=null},nr[t].onmouseover=function(){var t=$(this).find("#highres");t&&t.length!=0&&(gi=t[0].innerHTML,k||(k=n.createElement("div"),k.style.cssText="background-color:none; position: fixed; top:5%; left:5%; zIndex:9999; width:90%; height: 90%; text-align:center; display:none",d=n.createElement("img"),d.style.cssText="width:auto; height:100%;border: 1px solid #404040;margin:10px;background-color:#f0f0f0",d.src=gi,d.alt="LOADING...",k.appendChild(d),n.body.appendChild(k)))}}function loadFormInterface(){function nt(n,t,i){if(s=document.getElementById(n),s){var u=getparam(a,n,s.innerHTML),r;r="black";deftext(u)&&(r="silver");s.innerHTML=t+"color:"+r+';" onfocus="inputfocus(this)" onkeydown="inputkey(event,'+i+')" value="'+u+'">'}}var a=window.location.href.toString(),tt=document.getElementById("locfind"),y,p,it,s,w,rt,b,ut,k,u,d,g,et,e,ht,r,t,st,n,l,i,v,o;if(tt&&(nt("locname",'<input id="locnameval" class="submitoff" autocomplete="on" style="width:90%;',"locsearch"),nt("locdist",'<input id="locdistval" class="submitoff" autocomplete="on" size="15" style="',"locsearch"),tt.innerHTML='<input class="submitoff" type="submit" onclick="locsearch()" value="'+tt.innerHTML+'">',y=document.getElementById("mapfind"),y&&(y.innerHTML='<input class="submitoff" type="submit" onclick="mapsearch()" value="'+y.innerHTML+'">')),p=document.getElementById("regfind"),p&&(nt("regname",'<input id="regnameval" class="submitoff" autocomplete="on" style="width:30em;',"regsearch"),p.innerHTML='<input class="submitoff" type="submit" onclick="regsearch()" value="'+p.innerHTML+'">',it=urldecode(getCookie("regnameval")),it!=""&&(s=document.getElementById("regnameval"),s.value=it,a.split("?").length>1&&s.focus())),w=document.getElementById("filters"),w)for(t=document.getElementsByClassName("optionchk"),n=0;n<t.length;n++)r=t[n].id+"chk",u=a.indexOf("&"+r)>0,t[n].innerHTML='<label style="white-space: nowrap;"><input id="'+r+'" class="optionschk submitoff" type="checkbox" onclick="toggle'+r+"('"+r+"')\" "+(u?"checked":"")+">"+t[n].innerHTML+"<\/label>",toggleOption(r,u);if(w)for(t=document.getElementsByClassName("rwSort"),rt=document.getElementById("sortby"),rt&&(sortby=rt.innerHTML),n=0;n<t.length;n++)b="rwsortud.gif",t[n].id==sortby&&(b="rwsortdn.gif"),"-"+t[n].id==sortby&&(b="rwsortup.gif"),t[n].className+=" notranslate",t[n].style.cssText+="cursor: pointer; background-repeat: no-repeat; background-position: center right; padding-right:9px; padding-left:0px; background-image: url(https://sites.google.com/site/rwicons/"+b+");",t[n].onclick=function(n){var t=$(this).offset(),i=$(this).height(),r=t.top,u=r+i/2;n.pageY<u?(psortby="-"+this.id,nsortby=this.id):(psortby=this.id,nsortby="-"+this.id);sortby=sortby==psortby?nsortby:psortby;filtersearch()};for(t=document.getElementsByClassName("filtersel"),n=0;n<t.length;n++){var h=t[n].id+"flt",f=t[n].innerHTML.split(","),o="",c=urlget(a,t[n].id+"=","").split(","),lt=getCookie(h).split(",");for(i=0;i<f.length;++i)if(u=lt.indexOf(f[i])>=0,c.length>0&&c[0]!=""&&(u=c.indexOf(f[i])>=0),o+="<option "+(u?'selected="selected"':"")+'value="'+f[i]+'">'+f[i]+"<\/option>",u)for(ut=document.getElementsByClassName(h+f[i]),k=0;k<ut.length;k++)ut[k].style.display="";t[n].innerHTML='<select id="'+h+'" class="'+h+'" onclick="toggleFilterSel(this)">'+o+"<\/select>"}for(t=document.getElementsByClassName("filterchk"),n=0;n<t.length;n++){var h=t[n].id+"flt",f=t[n].innerHTML.split(","),ft=document.getElementById(t[n].id+"icons"),o="",c=urlget(a,t[n].id+"=","").split(",");for(i=0;i<f.length;++i)r=h+"_"+f[i],u=getCookie(r)!="",c.length>0&&c[0]!=""&&(u=c.indexOf(f[i])>=0),o+=ft?' <label title="'+ft.childNodes[i].title+'"><input id="'+r+'" class="'+h+'" style="margin:0;padding=0" type="checkbox" onclick="toggleFilter(\''+r+"')\" "+(u?"checked":"")+">"+ft.childNodes[i].innerHTML+"<\/label>":' <label title="'+f[i]+'"><input id="'+r+'" class="'+h+'" style="" type="checkbox" onclick="toggleFilter(\''+r+"')\" "+(u?"checked":"")+">"+f[i]+"<\/label>";t[n].innerHTML=o}if(d=document.getElementById("filterbutton"),d&&(d.innerHTML='<input class="submitoff" type="submit" onclick="filtersearch()" value="'+d.innerHTML+'">'),g=document.getElementById("starshowhide"),g&&w){for(l=g.getElementsByTagName("A"),n=0;n<l.length;++n)l[n].removeAttribute("href");for(et="border:2px solid #0070B0",e=g.getElementsByTagName("IMG"),n=0;n<e.length;++n)e[n].style.cssText=et,e[n].removeAttribute("href"),e[n].active=!0,e[n].q=0,e[n].alt&&(e[n].q=Number(e[n].alt)),e[n].onclick=function(){var t,n;for(this.active=!this.active,this.style.cssText=this.active?et:"",t=qmaps[this.q]=this.active?map:null,n=0;n<markers.length;++n)markers[n].q==this.q&&(markers[n].setMap(t),markers[n].highlight&&markers[n].highlight.setMap(t))}}for(ht=document.getElementById("locdefault"),ht&&(r="locsearchchk",toggleOption(r,!0)),t=document.getElementsByClassName("slideshowchk"),n=0;n<t.length;n++)t[n].innerHTML='<label style="white-space: nowrap;"><input class="slideshowschk submitoff" type="checkbox" onclick="toggleSlideshow()" '+(slideshowchk?"checked":"")+">"+t[n].innerHTML+"<\/label>";toggleSlideshow(slideshowchk);var ct=document.getElementsByClassName("optionform"),ot=window.location.href,ot=ot.split("#")[0].split("?");if(ot.length>1)for(st=ot[1].replace("&locname=","&noloc=").replace("&locsearchchk=on",""),n=0;n<ct.length;n++)for(l=ct[n].getElementsByTagName("A"),i=0;i<l.length;++i)v=l[i].attributes.href,v&&v.value&&(o=v.value,o+=o.indexOf("?")>=0?"&"+st:"?"+st,v.value=o);CollapsibleLists.apply()}function addPopOutLinkSupport(){for(var r=document.getElementsByClassName("mw-popout-link"),n=0;n<r.length;n++){var t=r[n].innerText,i=t.indexOf(" "),u=i<0?t:t.substring(0,i),f=i<0?u:t.substring(i+1);r[n].innerHTML='<a href="'+u+'" target="_blank">'+f+"<\/a>"}}function inputkey(n,t){n.which==13&&t()}function inputfocus(n){n.style.color="black";deftext(n.value)&&(n.value="")}function nearbyselect(n){var i=n.parentNode.getElementsByTagName("A")[0],t=i.href,r=t.indexOf(LOCDIST),u=t.substring(0,r)+LOCDIST+n.value;document.body.style.cursor="wait";window.location.href=u}function setfield(n){var t=$("#setfieldtarget input");t.length>0&&n&&(t[0].value=n.innerHTML)}function urldecode(n){return decodeURIComponent(n).split("+").join(" ")}function urlencode(n){return encodeURIComponent(n)}function urlget(n,t,i){var u=i,r=n.indexOf(t),f;return r>=0&&(r+=t.length,f=n.indexOf("&",r),u=f>0?n.substring(r,f):n.substring(r),u=urldecode(u)),u}function addparam(n,t,i){var u="&"+t+"=",f=n.indexOf(u),e,r;return f<0?n+=u+i:(e=n.substr(0,f),r=n.substr(f+u.length),n=e+u+i,r!=i&&(r.length>0&&r[0]!="&"&&(n+=","),n+=r)),n}function getparam(n,t,i){var r="&"+t+"=";return urlget(n,r,i)}function setparam(n,t,i){var u="&"+t+"=",r=n.indexOf(u);if(r>=0){var f="",o=n.substr(0,r),e=n.indexOf("&",r+1);e>=0&&(f=n.substr(e));n=o+f}return n+(u+i)}function geturl(n){var i=window.location.href.toString(),t;return n.substr(0,SITE_BASE_URL.length)===SITE_BASE_URL&&(t=function(t){if(i.substr(0,t.length)===t)return t+n.substr(SITE_BASE_URL.length)},SITE_ALTERNATE_NAMES.forEach(t)),n}function getdomain(n){var i=n.split("http"),t;return n.length<=0?n:(t=i[i.length-1].split("/"),t.length<=2)?n:t[2]}function aref(n,t,i,r){return typeof i=="undefined"&&(i=""),typeof r=="undefined"&&(r=""),'<A href="'+n+'" title="'+i+'" '+r+">"+t+"<\/A>"}function popupwin(n,t,i){return(typeof t=="undefined"&&(t=600),typeof i=="undefined"&&(i=500),n.substr(0,4)=="java")?n:(n.indexOf("ropewiki")>=0&&(n+=(n.indexOf("?")>=0?"&":"?")+"action=render"),"javascript:popupwindow('"+n+"',"+t+","+i+");")}function popupwindow(n,t,i){window.open(n,"_blank","width="+t+",height="+i+",scrollbars=yes,menubar=yes,resizable=yes,toolbar=yes")}function findtag(n,t,i){function u(n,t){for(var r,i=[],f=0;f<n.length;++f)r=n[f],r.nodeName==t?i.push(r):i=i.concat(u(r.childNodes,t));return i}for(var f=u(n,t),r=0;r<f.length;++r)i(f[r])}function deftext(n){return n==null||n==""||n[0]=="&"||n[0]==" "||n.charCodeAt(0)==160}function loadEditor(){}function initBasicEditor(){var t=document.getElementById("toolbar"),n;t||(t=document.createElement("DIV"),t.id="toolbar");var i=null,u="_section",r=document.getElementsByTagName("TEXTAREA");for(n=0;n<r.length;++n)!r[n].name||r[n].name.substr(0,u.length)!=u||(i||(i=r[n]),r[n].onfocus=function(){this.parentNode.insertBefore(t,this)});i&&i.parentNode.insertBefore(t,i);window.mw&&!!mw&&mw.loader.using("mediawiki.action.edit",function(){var n=document.getElementById("toolbar");n&&(n.innerHTML="");mw.toolbar.addButton(!1,"Bold text","'''","'''","Bold text","mw-editbutton-bold");mw.toolbar.addButton(!1,"Italic text","''","''","Italic text","mw-editbutton-italic");mw.toolbar.addButton({imageFile:SITE_BASE_URL+"/images/0/01/BulletlistIcon.png",speedTip:"Bulleted list",tagOpen:"* ",tagClose:"",sampleText:"Bulleted list item",imageId:"button-bullet"});mw.toolbar.addButton({imageFile:SITE_BASE_URL+"/images/4/45/Galleryicon1.png",speedTip:"Insert a picture (.jpg .gif .png .pdf)",tagOpen:"{{pic|",tagClose:"}}",sampleText:"name.jpg ~ caption",imageId:"button-pic1"});mw.toolbar.addButton({imageFile:SITE_BASE_URL+"/images/d/d4/Galleryiconn.png",speedTip:"Insert a picture gallery (.jpg .gif .png .pdf)",tagOpen:"{{pic|",tagClose:"}}",sampleText:"pic1.jpg ~ caption1 ; pic2.jpg ~ caption2 ; pic3.jpg ~ caption3",imageId:"button-picn"});mw.toolbar.addButton({imageFile:SITE_BASE_URL+"/images/c/ca/Galleryiconx.png",speedTip:"Insert a large sketch or document (.pdf .gif .png .jpg)",tagOpen:"{{pic|size=X|",tagClose:"}}",sampleText:"sketch.pdf ~ caption",imageId:"button-picx"});mw.toolbar.addButton(!1,"Internal link","[[","]]","Link title","mw-editbutton-link");mw.toolbar.addButton(!1,"External link (remember http:// prefix)","[","]","http://www.example.com link title","mw-editbutton-extlink");mw.toolbar.addButton(!1,"Level 2 headline","\n=== "," ===\n","Headline text","mw-editbutton-headline");mw.toolbar.addButton(!1,"Ignore wiki formatting","<nowiki>","<\/nowiki>","Insert non-formatted text here","mw-editbutton-nowiki");mw.toolbar.addButton(!1,"Your signature with timestamp","--[[User:BetaRobot2|BetaRobot2]] ([[User talk:BetaRobot2|talk]]) 17:01, 11 June 2016 (EDT)","","","mw-editbutton-signature");mw.toolbar.addButton(!1,"Horizontal line (use sparingly)","\n----\n","","","mw-editbutton-hr");$(function(){mw.toolbar.init()})})}function customizeToolbar(){console.log("customizeToolbar");$("#wpTextbox1").wikiEditor("addToToolbar",{section:"main",group:"format",tools:{bullist:{label:"Bulleted list",type:"button",icon:SITE_BASE_URL+"/images/0/01/BulletlistIcon.png",action:{type:"encapsulate",options:{pre:"* ",peri:"Bulleted list item",post:""}}}}});$("#wpTextbox1").wikiEditor("addToToolbar",{section:"main",group:"format",tools:{pic1:{label:"Insert a picture (.jpg .gif .png .pdf)",type:"button",icon:SITE_BASE_URL+"/images/4/45/Galleryicon1.png",action:{type:"encapsulate",options:{pre:"{{pic|",peri:"name.jpg ~ caption",post:"}}"}}}}});$("#wpTextbox1").wikiEditor("addToToolbar",{section:"main",group:"format",tools:{picn:{label:"Insert a picture gallery (.jpg .gif .png .pdf)",type:"button",icon:SITE_BASE_URL+"/images/d/d4/Galleryiconn.png",action:{type:"encapsulate",options:{pre:"{{pic|",peri:"pic1.jpg ~ caption1 ; pic2.jpg ~ caption2 ; pic3.jpg ~ caption3",post:"}}"}}}}});$("#wpTextbox1").wikiEditor("addToToolbar",{section:"main",group:"format",tools:{picx:{label:"Insert a large sketch or document (.pdf .gif .png .jpg)",type:"button",icon:SITE_BASE_URL+"/images/c/ca/Galleryiconx.png",action:{type:"encapsulate",options:{pre:"{{pic|size=X|",peri:"sketch.pdf ~ caption",post:"}}"}}}}});$("#wpTextbox1, .wikieditor").wikiEditor("removeFromToolbar",{section:"advanced",group:"insert",tool:"gallery"})}function initToolbarCustomization(){typeof mw!="undefined"&&(!mw||$.inArray(mw.config.get("wgAction"),["edit","submit"])===-1||(mw.loader.using("user.options",function(){mw.user.options.get("usebetatoolbar")==1&&$.when(mw.loader.using("ext.wikiEditor.toolbar"),$.ready).then(customizeToolbar)}),mw.hook("ext.lqt.textareaCreated").add(customizeToolbar)))}var clistloading,clistcookie="regionlist",CollapsibleLists=new function(){function n(n){return function(r){r||(r=window.event);var u=r.target?r.target:r.srcElement;u.nodeName=="LI"&&u==n&&(t(n),i())}}function t(n){var e=n.className.match(/(^| )collapsibleListClosed( |$)/),t,i,o,s;for(e=u(n,e),t=n.getElementsByTagName("ul"),i=0;i<t.length;i++){for(o=t[i];o.nodeName!="LI";)o=o.parentNode;o==n&&(t[i].style.display=e?"block":"none",e&&(s=[],r(t[i],s),f(s)))}n.className=n.className.replace(/(^| )collapsibleList(Open|Closed)( |$)/,"");t.length>0&&(n.className+=" collapsibleList"+(e?"Open":"Closed"))}function u(n,t){var i=null,u=n.getElementsByTagName("a"),r;return(u.length==0&&(u=n.getElementsByTagName("span")),u.length>0&&(i=u[0].innerHTML),!i)?t:(i="<"+i+">",clistloading!=null)?clistloading.indexOf(i)>=0?!0:!1:(r=getCookie(clistcookie),r=r.split(i).join(""),t&&(r+=i),setCookie(clistcookie,r),t)}function i(){}function f(n){for(var r,t,f,u=[],i=0;i<n.length;++i)r="NOTEXIST",t=n[i].getElementsByTagName("A"),t&&t.length>0&&(r=t[0].title),u.push(r);f=SITE_BASE_URL+"/index.php?title=Template:RegionCount&action=raw&templates=expand&ctype=text/x-wiki&region="+urlencode(u.join(";"));$.get(geturl(f),function(t){for(var r=t.split(";"),i=0;i<n.length;++i)n[i].innerHTML=n[i].innerHTML+" "+r[i]})}function r(n,t){for(var i,u=0;u<n.childNodes.length;++u)i=n.childNodes[u],i.style&&i.style.display!="none"&&(t.length<30&&i.className&&i.className.indexOf("regioncount")>=0&&($(i).removeClass("regioncount"),t.push(i)),i.childNodes.length>0&&i.tagName=="LI"&&r(i,t))}this.apply=function(n){var r,t,f,u;for(clistloading=getCookie(clistcookie),clistloading||(clistloading="<World>"),r=document.getElementsByTagName("ul"),t=0;t<r.length;t++)if(r[t].className.match(/(^| )collapsibleList( |$)/)&&(this.applyTo(r[t],!0),!n))for(f=r[t].getElementsByTagName("ul"),u=0;u<f.length;u++)f[u].className+=" collapsibleList";clistloading=null;i()};this.applyTo=function(i,r){var v,e,h,c,o,l,s,a,f,u;for((f=i.getElementsByTagName(v="A")).length==0&&(f=i.getElementsByTagName(v="SPAN")),e=[],h=[],u=0;u<f.length;u++)e.push(f[u]);for(u=0;u<e.length;u++)if(c=-1,v=="A"?(c=h.indexOf(e[u].href),h.push(e[u].href)):(c=h.indexOf(e[u].innerHTML),h.push(e[u].innerHTML)),!(c<0)){for(o=e[u];o&&o.tagName!="LI";)o=o.parentNode;for(l=o.getElementsByTagName("UL"),s=e[c];s&&s.tagName!="LI";)s=s.parentNode;a=s.getElementsByTagName("UL");l.length>0&&a.length==0?s.appendChild(l[0].cloneNode(!0)):a.length>0&&l.length==0&&o.appendChild(a[0].cloneNode(!0))}for(f=i.getElementsByTagName("li"),u=0;u<f.length;u++)r&&i!=f[u].parentNode||(f[u].addEventListener?f[u].addEventListener("mousedown",function(n){n.preventDefault()},!1):f[u].attachEvent("onselectstart",function(){event.returnValue=!1}),f[u].addEventListener?f[u].addEventListener("click",n(f[u]),!1):f[u].attachEvent("onclick",n(f[u])),t(f[u]))}},LUCA_HOSTNAME="luca.ropewiki.com",LUCA_BASE_URL="http://"+LUCA_HOSTNAME,SITE_HOSTNAME="ropewiki.com",SITE_BASE_URL="http://"+SITE_HOSTNAME,SITE_ALTERNATE_NAMES=["http://www.ropewiki.com"],DEBUG=window.location.href.toString().indexOf("debug=")>=0,km2mi=.621371,m2ft=3.28084,sites=[],metric=null,french=null,urlcheckbox=null,weather=null,watershed=null,starrate=null,labels=null,slideshowchk=null,sortby="",geoElevationService,skinuser="",gtrans=null,gtrans2="x",glist,genlist,lastfrom="",lastto="",map,gxml,zindex=0,markers=[],handlekeys=!1,lastinfowindow=null,nlist=1e4,qmaps=[],kmllistn=0,kmllisturl,tablelisturl,kmlsummary,morestep=100,moremapc=0,morelistc=0,boundslist,loadingmap=!0,loadingtiles=!1,loadingtiles2=!1,loadingkml=!1,loadingquery=!1,loadingquery2=!1,piciconlist=[],picloadingmsg="<img height=12 src='"+SITE_BASE_URL+"/extensions/SemanticForms/skins/loading.gif'/> Loading... ",piclist,picloading,picloadingerr,picloadingn,searchmapn=-1,searchmappt=[],searchmaprectangle,showLegend,showRoutes,loadedRoutes,toggleFS,lastlinks=[],oldid="@",KML_ICON_LIST=[SITE_BASE_URL+"/images/7/75/Starn00.png",SITE_BASE_URL+"/images/8/87/Starn10.png",SITE_BASE_URL+"/images/1/15/Starn20.png",SITE_BASE_URL+"/images/d/d3/Starn30.png",SITE_BASE_URL+"/images/a/a0/Starn40.png",SITE_BASE_URL+"/images/c/cc/Starn50.png",SITE_BASE_URL+"/images/b/b6/Starn01.png",SITE_BASE_URL+"/images/1/12/Starn11.png",SITE_BASE_URL+"/images/b/b7/Starn21.png",SITE_BASE_URL+"/images/2/2e/Starn31.png",SITE_BASE_URL+"/images/1/1d/Starn41.png",SITE_BASE_URL+"/images/f/fe/Starn51.png",SITE_BASE_URL+"/images/3/3a/Starn02.png",SITE_BASE_URL+"/images/a/a4/Starn12.png",SITE_BASE_URL+"/images/1/13/Starn22.png",SITE_BASE_URL+"/images/3/32/Starn32.png",SITE_BASE_URL+"/images/7/77/Starn42.png",SITE_BASE_URL+"/images/1/11/Starn52.png",SITE_BASE_URL+"/images/b/bd/Starn03.png",SITE_BASE_URL+"/images/0/09/Starn13.png",SITE_BASE_URL+"/images/9/98/Starn23.png",SITE_BASE_URL+"/images/0/07/Starn33.png",SITE_BASE_URL+"/images/f/fb/Starn43.png",SITE_BASE_URL+"/images/d/dc/Starn53.png",SITE_BASE_URL+"/images/2/25/Starn04.png",SITE_BASE_URL+"/images/7/73/Starn14.png",SITE_BASE_URL+"/images/e/ea/Starn24.png",SITE_BASE_URL+"/images/6/6a/Starn34.png",SITE_BASE_URL+"/images/3/31/Starn44.png",SITE_BASE_URL+"/images/2/27/Starn54.png",SITE_BASE_URL+"/images/2/29/Starn05.png",SITE_BASE_URL+"/images/d/d9/Starn15.png",SITE_BASE_URL+"/images/e/e0/Starn25.png",SITE_BASE_URL+"/images/0/09/Starn35.png",SITE_BASE_URL+"/images/8/81/Starn45.png",SITE_BASE_URL+"/images/3/37/Starn55.png"],FULLSCREEN_HASH="#fullscreen",STARLIST=[SITE_BASE_URL+"/images/9/9d/GoldStar0.png",SITE_BASE_URL+"/images/8/86/GoldStar1.png",SITE_BASE_URL+"/images/f/fd/GoldStar2.png",SITE_BASE_URL+"/images/8/8d/GoldStar3.png",SITE_BASE_URL+"/images/4/41/GoldStar4.png"],LOCDIST="locdist=";initializeCookies();initializeGlobalVariables();addPopOutLinkSupport();addUACAStyle();checkregname();$("head").prepend('<meta name="viewport" content="width=320, initial-scale=1.0">');loadSkin();adjustFaviconElements();addHashChangeListener();initBasicEditor();initToolbarCustomization();window.onload=function(){loadmapScript()};